<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.62">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>面试官：vue要做权限管理该怎么做？如果控制到按钮级别的权限怎么做？ | Hello World ！</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <link rel="preload" href="/interview/assets/style-a44f9669.css" as="style"><link rel="stylesheet" href="/interview/assets/style-a44f9669.css">
    <link rel="modulepreload" href="/interview/assets/app-c0885663.js"><link rel="modulepreload" href="/interview/assets/permission.html-c36e5fd4.js"><link rel="modulepreload" href="/interview/assets/permission.html-021c8c91.js"><link rel="prefetch" href="/interview/assets/index.html-b13a36ce.js" as="script"><link rel="prefetch" href="/interview/assets/ ____.html-610e0a14.js" as="script"><link rel="prefetch" href="/interview/assets/BOM.html-170fcc9e.js" as="script"><link rel="prefetch" href="/interview/assets/Dom.html-4f2ad7bb.js" as="script"><link rel="prefetch" href="/interview/assets/ajax.html-c894d07d.js" as="script"><link rel="prefetch" href="/interview/assets/array_api.html-87bc089c.js" as="script"><link rel="prefetch" href="/interview/assets/bind_call_apply.html-8782b0ee.js" as="script"><link rel="prefetch" href="/interview/assets/cache.html-676c28cf.js" as="script"><link rel="prefetch" href="/interview/assets/closure.html-4ecd4523.js" as="script"><link rel="prefetch" href="/interview/assets/context_stack.html-1b4124ca.js" as="script"><link rel="prefetch" href="/interview/assets/continue_to_upload.html-a495b8c1.js" as="script"><link rel="prefetch" href="/interview/assets/copy.html-6237fc84.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-46d5ac83.js" as="script"><link rel="prefetch" href="/interview/assets/debounce_throttle.html-fbfa4913.js" as="script"><link rel="prefetch" href="/interview/assets/event_Model.html-f2d4f433.js" as="script"><link rel="prefetch" href="/interview/assets/event_agent.html-03a39be5.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-bc418f4a.js" as="script"><link rel="prefetch" href="/interview/assets/function_cache.html-6f437fa0.js" as="script"><link rel="prefetch" href="/interview/assets/functional_programming.html-f9d6856b.js" as="script"><link rel="prefetch" href="/interview/assets/inherit.html-b9b10fe2.js" as="script"><link rel="prefetch" href="/interview/assets/js_data_structure.html-0b1142ea.js" as="script"><link rel="prefetch" href="/interview/assets/loss_accuracy.html-14136d0c.js" as="script"><link rel="prefetch" href="/interview/assets/memory_leak.html-37d79fd9.js" as="script"><link rel="prefetch" href="/interview/assets/new.html-f21ccbfc.js" as="script"><link rel="prefetch" href="/interview/assets/prototype.html-7a5a3d34.js" as="script"><link rel="prefetch" href="/interview/assets/pull_up_loading_pull_down_refresh.html-c3c5ac69.js" as="script"><link rel="prefetch" href="/interview/assets/regexp.html-113de670.js" as="script"><link rel="prefetch" href="/interview/assets/scope.html-65c28fa5.js" as="script"><link rel="prefetch" href="/interview/assets/security.html-69c4d207.js" as="script"><link rel="prefetch" href="/interview/assets/single_sign.html-7d997521.js" as="script"><link rel="prefetch" href="/interview/assets/string_api.html-d909f395.js" as="script"><link rel="prefetch" href="/interview/assets/tail_recursion.html-d0469040.js" as="script"><link rel="prefetch" href="/interview/assets/this.html-ef721e98.js" as="script"><link rel="prefetch" href="/interview/assets/type_conversion.html-d7f6a26b.js" as="script"><link rel="prefetch" href="/interview/assets/typeof_instanceof.html-9b2b25a5.js" as="script"><link rel="prefetch" href="/interview/assets/visible.html-847421d0.js" as="script"><link rel="prefetch" href="/interview/assets/Buffer.html-3626b96a.js" as="script"><link rel="prefetch" href="/interview/assets/EventEmitter.html-4536e90b.js" as="script"><link rel="prefetch" href="/interview/assets/Stream.html-c4748421.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-700fea9e.js" as="script"><link rel="prefetch" href="/interview/assets/file_upload.html-7dd93c1f.js" as="script"><link rel="prefetch" href="/interview/assets/fs.html-43460f18.js" as="script"><link rel="prefetch" href="/interview/assets/global.html-003f0bc8.js" as="script"><link rel="prefetch" href="/interview/assets/jwt.html-901ba436.js" as="script"><link rel="prefetch" href="/interview/assets/middleware.html-95b304d4.js" as="script"><link rel="prefetch" href="/interview/assets/nodejs.html-8617025a.js" as="script"><link rel="prefetch" href="/interview/assets/paging.html-f3612c63.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-859efab7.js" as="script"><link rel="prefetch" href="/interview/assets/process.html-490c5435.js" as="script"><link rel="prefetch" href="/interview/assets/require_order.html-93fd02e1.js" as="script"><link rel="prefetch" href="/interview/assets/Algorithm.html-f4bd22c2.js" as="script"><link rel="prefetch" href="/interview/assets/BinarySearch.html-e8bd8025.js" as="script"><link rel="prefetch" href="/interview/assets/Heap.html-ae6157ff.js" as="script"><link rel="prefetch" href="/interview/assets/Linked List.html-62b9c66b.js" as="script"><link rel="prefetch" href="/interview/assets/bubbleSort.html-3d13606a.js" as="script"><link rel="prefetch" href="/interview/assets/design1.html-ce6bd826.js" as="script"><link rel="prefetch" href="/interview/assets/design2.html-1e132d8a.js" as="script"><link rel="prefetch" href="/interview/assets/graph.html-1ae96d95.js" as="script"><link rel="prefetch" href="/interview/assets/insertionSort.html-9f426e12.js" as="script"><link rel="prefetch" href="/interview/assets/mergeSort.html-661cfa71.js" as="script"><link rel="prefetch" href="/interview/assets/quickSort.html-c1fd0f46.js" as="script"><link rel="prefetch" href="/interview/assets/selectionSort.html-8f1440fe.js" as="script"><link rel="prefetch" href="/interview/assets/set.html-5957d752.js" as="script"><link rel="prefetch" href="/interview/assets/sort.html-2ebb5aa6.js" as="script"><link rel="prefetch" href="/interview/assets/stack_queue.html-0cde041a.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-8fae96ea.js" as="script"><link rel="prefetch" href="/interview/assets/time_space.html-33be227d.js" as="script"><link rel="prefetch" href="/interview/assets/tree.html-a639406e.js" as="script"><link rel="prefetch" href="/interview/assets/WebView_jscore.html-bce5c4e3.js" as="script"><link rel="prefetch" href="/interview/assets/applet.html-84a8742b.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-e3cf4abe.js" as="script"><link rel="prefetch" href="/interview/assets/login.html-166f0f8f.js" as="script"><link rel="prefetch" href="/interview/assets/navigate.html-3e9a8e04.js" as="script"><link rel="prefetch" href="/interview/assets/optimization.html-3202e7d9.js" as="script"><link rel="prefetch" href="/interview/assets/publish.html-66ef9692.js" as="script"><link rel="prefetch" href="/interview/assets/requestPayment.html-718f95cd.js" as="script"><link rel="prefetch" href="/interview/assets/Binding events.html-2f56d39f.js" as="script"><link rel="prefetch" href="/interview/assets/Building components.html-7edf9ac5.js" as="script"><link rel="prefetch" href="/interview/assets/Fiber.html-492ba891.js" as="script"><link rel="prefetch" href="/interview/assets/High order components.html-9fb77331.js" as="script"><link rel="prefetch" href="/interview/assets/Improve performance.html-7a7bbab5.js" as="script"><link rel="prefetch" href="/interview/assets/JSX to DOM.html-9fad6222.js" as="script"><link rel="prefetch" href="/interview/assets/React Hooks.html-c107c871.js" as="script"><link rel="prefetch" href="/interview/assets/React Router model.html-3a0e2434.js" as="script"><link rel="prefetch" href="/interview/assets/React Router.html-2a489117.js" as="script"><link rel="prefetch" href="/interview/assets/React refs.html-580986ac.js" as="script"><link rel="prefetch" href="/interview/assets/React.html-2236389d.js" as="script"><link rel="prefetch" href="/interview/assets/Real DOM_Virtual DOM.html-8fec60bb.js" as="script"><link rel="prefetch" href="/interview/assets/Redux Middleware.html-1afc9bb7.js" as="script"><link rel="prefetch" href="/interview/assets/SyntheticEvent.html-66423947.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-74f11b8f.js" as="script"><link rel="prefetch" href="/interview/assets/capture error.html-6cb63b3d.js" as="script"><link rel="prefetch" href="/interview/assets/class_function component.html-a5fe3444.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-5d6f9d23.js" as="script"><link rel="prefetch" href="/interview/assets/controlled_Uncontrolled.html-4b10a5b1.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-7b1a23f6.js" as="script"><link rel="prefetch" href="/interview/assets/how to use redux.html-bf3d1be1.js" as="script"><link rel="prefetch" href="/interview/assets/immutable.html-30ac4b95.js" as="script"><link rel="prefetch" href="/interview/assets/import css.html-99c192a4.js" as="script"><link rel="prefetch" href="/interview/assets/improve_render.html-999e502b.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-83a750af.js" as="script"><link rel="prefetch" href="/interview/assets/life cycle.html-eb9a0fe4.js" as="script"><link rel="prefetch" href="/interview/assets/redux.html-59da3a27.js" as="script"><link rel="prefetch" href="/interview/assets/render.html-01561d31.js" as="script"><link rel="prefetch" href="/interview/assets/server side rendering.html-8d1393ec.js" as="script"><link rel="prefetch" href="/interview/assets/setState.html-00d4cf29.js" as="script"><link rel="prefetch" href="/interview/assets/state_props.html-17ec3d0b.js" as="script"><link rel="prefetch" href="/interview/assets/summary.html-fd0def1b.js" as="script"><link rel="prefetch" href="/interview/assets/super()_super(props).html-2140cbe0.js" as="script"><link rel="prefetch" href="/interview/assets/BFC.html-725b19a4.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-62688721.js" as="script"><link rel="prefetch" href="/interview/assets/box.html-50874e50.js" as="script"><link rel="prefetch" href="/interview/assets/center.html-e3df3352.js" as="script"><link rel="prefetch" href="/interview/assets/column_layout.html-bb6c12bf.js" as="script"><link rel="prefetch" href="/interview/assets/css3_features.html-1f3da90d.js" as="script"><link rel="prefetch" href="/interview/assets/css_performance.html-6bca0d40.js" as="script"><link rel="prefetch" href="/interview/assets/dp_px_dpr_ppi.html-1206203b.js" as="script"><link rel="prefetch" href="/interview/assets/em_px_rem_vh_vw.html-91d516d6.js" as="script"><link rel="prefetch" href="/interview/assets/flexbox.html-7a65b9a0.js" as="script"><link rel="prefetch" href="/interview/assets/grid.html-c0bc4157.js" as="script"><link rel="prefetch" href="/interview/assets/hide_attributes.html-acab0bb9.js" as="script"><link rel="prefetch" href="/interview/assets/layout_painting.html-8661f390.js" as="script"><link rel="prefetch" href="/interview/assets/less_12px.html-c6091782.js" as="script"><link rel="prefetch" href="/interview/assets/responsive_layout.html-11289b3f.js" as="script"><link rel="prefetch" href="/interview/assets/sass_less_stylus.html-b42aa739.js" as="script"><link rel="prefetch" href="/interview/assets/selector.html-e7db6ca2.js" as="script"><link rel="prefetch" href="/interview/assets/single_multi_line.html-feec11ec.js" as="script"><link rel="prefetch" href="/interview/assets/triangle.html-cca20f47.js" as="script"><link rel="prefetch" href="/interview/assets/visual_scrolling.html-59b6b25b.js" as="script"><link rel="prefetch" href="/interview/assets/Factory  Pattern.html-8c1ee12e.js" as="script"><link rel="prefetch" href="/interview/assets/Observer  Pattern.html-a13e5834.js" as="script"><link rel="prefetch" href="/interview/assets/Proxy Pattern.html-3a892bc2.js" as="script"><link rel="prefetch" href="/interview/assets/Singleton Pattern.html-6e0a0f72.js" as="script"><link rel="prefetch" href="/interview/assets/Strategy Pattern.html-a479da7f.js" as="script"><link rel="prefetch" href="/interview/assets/design.html-ce2bed8b.js" as="script"><link rel="prefetch" href="/interview/assets/array.html-dff0b803.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-abb4b36a.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-8e11713c.js" as="script"><link rel="prefetch" href="/interview/assets/generator.html-5046975e.js" as="script"><link rel="prefetch" href="/interview/assets/module.html-d6f998f6.js" as="script"><link rel="prefetch" href="/interview/assets/object.html-2281a515.js" as="script"><link rel="prefetch" href="/interview/assets/promise.html-ca21f511.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-c1d24598.js" as="script"><link rel="prefetch" href="/interview/assets/set_map.html-3308bb87.js" as="script"><link rel="prefetch" href="/interview/assets/var_let_const.html-10d9f869.js" as="script"><link rel="prefetch" href="/interview/assets/Git.html-bf6c5ee3.js" as="script"><link rel="prefetch" href="/interview/assets/HEAD_tree_index.html-908c7c4c.js" as="script"><link rel="prefetch" href="/interview/assets/Version control.html-5a2f58ab.js" as="script"><link rel="prefetch" href="/interview/assets/command.html-bb7065a4.js" as="script"><link rel="prefetch" href="/interview/assets/conflict.html-503fd339.js" as="script"><link rel="prefetch" href="/interview/assets/fork_clone_branch.html-9adc1df7.js" as="script"><link rel="prefetch" href="/interview/assets/git pull _git fetch.html-8bce9989.js" as="script"><link rel="prefetch" href="/interview/assets/git rebase_ git merge.html-814c5055.js" as="script"><link rel="prefetch" href="/interview/assets/git reset_ git revert.html-de26e8a3.js" as="script"><link rel="prefetch" href="/interview/assets/git stash.html-377c5340.js" as="script"><link rel="prefetch" href="/interview/assets/1.0_1.1_2.0.html-d9503c4c.js" as="script"><link rel="prefetch" href="/interview/assets/CDN.html-05681bd6.js" as="script"><link rel="prefetch" href="/interview/assets/DNS.html-0d9d5fde.js" as="script"><link rel="prefetch" href="/interview/assets/GET_POST.html-994b9327.js" as="script"><link rel="prefetch" href="/interview/assets/HTTPS.html-8c8c1db9.js" as="script"><link rel="prefetch" href="/interview/assets/HTTP_HTTPS.html-7062c7b8.js" as="script"><link rel="prefetch" href="/interview/assets/OSI.html-8dcb7dcc.js" as="script"><link rel="prefetch" href="/interview/assets/TCP_IP.html-59704934.js" as="script"><link rel="prefetch" href="/interview/assets/UDP_TCP.html-087c81d1.js" as="script"><link rel="prefetch" href="/interview/assets/WebSocket.html-717cd778.js" as="script"><link rel="prefetch" href="/interview/assets/after_url.html-aa6673e1.js" as="script"><link rel="prefetch" href="/interview/assets/handshakes_waves.html-8d0ca526.js" as="script"><link rel="prefetch" href="/interview/assets/headers.html-487da234.js" as="script"><link rel="prefetch" href="/interview/assets/status.html-2b3d182f.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-746601a8.js" as="script"><link rel="prefetch" href="/interview/assets/css.html-0a92be88.js" as="script"><link rel="prefetch" href="/interview/assets/html.html-a138a347.js" as="script"><link rel="prefetch" href="/interview/assets/javascript.html-d0cb2215.js" as="script"><link rel="prefetch" href="/interview/assets/life01.html-f35922f7.js" as="script"><link rel="prefetch" href="/interview/assets/life02.html-9bf23754.js" as="script"><link rel="prefetch" href="/interview/assets/life03.html-57c84341.js" as="script"><link rel="prefetch" href="/interview/assets/file.html-5214acb7.js" as="script"><link rel="prefetch" href="/interview/assets/linux users.html-4ac865d5.js" as="script"><link rel="prefetch" href="/interview/assets/linux.html-68d95f96.js" as="script"><link rel="prefetch" href="/interview/assets/redirect_pipe.html-e43504de.js" as="script"><link rel="prefetch" href="/interview/assets/shell.html-ba5be7c9.js" as="script"><link rel="prefetch" href="/interview/assets/thread_process.html-d8bd5518.js" as="script"><link rel="prefetch" href="/interview/assets/vim.html-dc1ba9a3.js" as="script"><link rel="prefetch" href="/interview/assets/class.html-fc452afd.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-a100b2f6.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-b7214ca1.js" as="script"><link rel="prefetch" href="/interview/assets/enum.html-718d60f7.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-ea779406.js" as="script"><link rel="prefetch" href="/interview/assets/generic.html-dc35cfe7.js" as="script"><link rel="prefetch" href="/interview/assets/high type.html-fd1b6b1c.js" as="script"><link rel="prefetch" href="/interview/assets/interface.html-e53aae24.js" as="script"><link rel="prefetch" href="/interview/assets/namespace_module.html-6d688061.js" as="script"><link rel="prefetch" href="/interview/assets/react.html-8d0e5947.js" as="script"><link rel="prefetch" href="/interview/assets/typescript_javascript.html-dfa34a25.js" as="script"><link rel="prefetch" href="/interview/assets/vue.html-46f8fb5a.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-9cd7a9c3.js" as="script"><link rel="prefetch" href="/interview/assets/axios.html-3220e539.js" as="script"><link rel="prefetch" href="/interview/assets/axiosCode.html-fa473e9d.js" as="script"><link rel="prefetch" href="/interview/assets/bind.html-86ed08f5.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-3c974e82.js" as="script"><link rel="prefetch" href="/interview/assets/components_plugin.html-669a9905.js" as="script"><link rel="prefetch" href="/interview/assets/cors.html-6fb5edde.js" as="script"><link rel="prefetch" href="/interview/assets/data.html-c29dcfb9.js" as="script"><link rel="prefetch" href="/interview/assets/data_object_add_attrs.html-5e9dafa8.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-bfe16da3.js" as="script"><link rel="prefetch" href="/interview/assets/directive.html-868c0ba9.js" as="script"><link rel="prefetch" href="/interview/assets/error.html-0982f7bb.js" as="script"><link rel="prefetch" href="/interview/assets/filter.html-afa99151.js" as="script"><link rel="prefetch" href="/interview/assets/first_page_time.html-d6c1df9c.js" as="script"><link rel="prefetch" href="/interview/assets/if_for.html-acd953a7.js" as="script"><link rel="prefetch" href="/interview/assets/keepalive.html-bae4163f.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-a7bb3f6d.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-0cf72d99.js" as="script"><link rel="prefetch" href="/interview/assets/mixin.html-e70fdd4e.js" as="script"><link rel="prefetch" href="/interview/assets/modifier.html-54cb3385.js" as="script"><link rel="prefetch" href="/interview/assets/new_vue.html-185866ba.js" as="script"><link rel="prefetch" href="/interview/assets/nexttick.html-e2449afa.js" as="script"><link rel="prefetch" href="/interview/assets/observable.html-ca8e2390.js" as="script"><link rel="prefetch" href="/interview/assets/show_if.html-3fc668cf.js" as="script"><link rel="prefetch" href="/interview/assets/slot.html-eee6582e.js" as="script"><link rel="prefetch" href="/interview/assets/spa.html-b1e38318.js" as="script"><link rel="prefetch" href="/interview/assets/ssr.html-1ec392e4.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-9d0641cb.js" as="script"><link rel="prefetch" href="/interview/assets/vnode.html-08222532.js" as="script"><link rel="prefetch" href="/interview/assets/vue3_vue2.html-e3114302.js" as="script"><link rel="prefetch" href="/interview/assets/composition.html-75949085.js" as="script"><link rel="prefetch" href="/interview/assets/goal.html-f5edb711.js" as="script"><link rel="prefetch" href="/interview/assets/modal_component.html-d21541a5.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-812b62f1.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-b085eb2f.js" as="script"><link rel="prefetch" href="/interview/assets/treeshaking.html-af21a867.js" as="script"><link rel="prefetch" href="/interview/assets/HMR.html-0fb5bcae.js" as="script"><link rel="prefetch" href="/interview/assets/Loader.html-18c22bdb.js" as="script"><link rel="prefetch" href="/interview/assets/Loader_Plugin.html-e5a4f024.js" as="script"><link rel="prefetch" href="/interview/assets/Plugin.html-b93806bc.js" as="script"><link rel="prefetch" href="/interview/assets/Rollup_Parcel_snowpack_Vite.html-8671b64e.js" as="script"><link rel="prefetch" href="/interview/assets/build_process.html-638d0548.js" as="script"><link rel="prefetch" href="/interview/assets/improve_build.html-e7998822.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-d674a27a.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-535f3d06.js" as="script"><link rel="prefetch" href="/interview/assets/webpack.html-81aacdc8.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-9790f3ba.js" as="script"><link rel="prefetch" href="/interview/assets/ ____.html-807ea59d.js" as="script"><link rel="prefetch" href="/interview/assets/BOM.html-2e660d94.js" as="script"><link rel="prefetch" href="/interview/assets/Dom.html-a2448e9a.js" as="script"><link rel="prefetch" href="/interview/assets/ajax.html-0adb638b.js" as="script"><link rel="prefetch" href="/interview/assets/array_api.html-20d2fe92.js" as="script"><link rel="prefetch" href="/interview/assets/bind_call_apply.html-c2b72c2d.js" as="script"><link rel="prefetch" href="/interview/assets/cache.html-0ba4c007.js" as="script"><link rel="prefetch" href="/interview/assets/closure.html-7c519dfa.js" as="script"><link rel="prefetch" href="/interview/assets/context_stack.html-404d80d0.js" as="script"><link rel="prefetch" href="/interview/assets/continue_to_upload.html-cc27d78d.js" as="script"><link rel="prefetch" href="/interview/assets/copy.html-a8918ada.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-4b5075e6.js" as="script"><link rel="prefetch" href="/interview/assets/debounce_throttle.html-8fe82048.js" as="script"><link rel="prefetch" href="/interview/assets/event_Model.html-e2035747.js" as="script"><link rel="prefetch" href="/interview/assets/event_agent.html-2cb63890.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-bde5ee9f.js" as="script"><link rel="prefetch" href="/interview/assets/function_cache.html-a376e463.js" as="script"><link rel="prefetch" href="/interview/assets/functional_programming.html-9d5756eb.js" as="script"><link rel="prefetch" href="/interview/assets/inherit.html-23ec53d1.js" as="script"><link rel="prefetch" href="/interview/assets/js_data_structure.html-5c17609c.js" as="script"><link rel="prefetch" href="/interview/assets/loss_accuracy.html-1e558478.js" as="script"><link rel="prefetch" href="/interview/assets/memory_leak.html-079f9dc2.js" as="script"><link rel="prefetch" href="/interview/assets/new.html-97601e2d.js" as="script"><link rel="prefetch" href="/interview/assets/prototype.html-79599a17.js" as="script"><link rel="prefetch" href="/interview/assets/pull_up_loading_pull_down_refresh.html-57880a14.js" as="script"><link rel="prefetch" href="/interview/assets/regexp.html-32a12fb2.js" as="script"><link rel="prefetch" href="/interview/assets/scope.html-5100a988.js" as="script"><link rel="prefetch" href="/interview/assets/security.html-0281d4f4.js" as="script"><link rel="prefetch" href="/interview/assets/single_sign.html-86e9cbbf.js" as="script"><link rel="prefetch" href="/interview/assets/string_api.html-69f3436e.js" as="script"><link rel="prefetch" href="/interview/assets/tail_recursion.html-cc858998.js" as="script"><link rel="prefetch" href="/interview/assets/this.html-1e94ebd8.js" as="script"><link rel="prefetch" href="/interview/assets/type_conversion.html-a5bb7c7d.js" as="script"><link rel="prefetch" href="/interview/assets/typeof_instanceof.html-08c35395.js" as="script"><link rel="prefetch" href="/interview/assets/visible.html-1e269921.js" as="script"><link rel="prefetch" href="/interview/assets/Buffer.html-175a3a53.js" as="script"><link rel="prefetch" href="/interview/assets/EventEmitter.html-b9133bcb.js" as="script"><link rel="prefetch" href="/interview/assets/Stream.html-fb527779.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-520eb050.js" as="script"><link rel="prefetch" href="/interview/assets/file_upload.html-30f25046.js" as="script"><link rel="prefetch" href="/interview/assets/fs.html-75ddf1bd.js" as="script"><link rel="prefetch" href="/interview/assets/global.html-e618a735.js" as="script"><link rel="prefetch" href="/interview/assets/jwt.html-f75109a5.js" as="script"><link rel="prefetch" href="/interview/assets/middleware.html-f594f809.js" as="script"><link rel="prefetch" href="/interview/assets/nodejs.html-bfa23dc4.js" as="script"><link rel="prefetch" href="/interview/assets/paging.html-6f0e713a.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-77d1540d.js" as="script"><link rel="prefetch" href="/interview/assets/process.html-0e3fc17c.js" as="script"><link rel="prefetch" href="/interview/assets/require_order.html-26febbb6.js" as="script"><link rel="prefetch" href="/interview/assets/Algorithm.html-9beff801.js" as="script"><link rel="prefetch" href="/interview/assets/BinarySearch.html-06fa1452.js" as="script"><link rel="prefetch" href="/interview/assets/Heap.html-145d2076.js" as="script"><link rel="prefetch" href="/interview/assets/Linked List.html-a5c57cff.js" as="script"><link rel="prefetch" href="/interview/assets/bubbleSort.html-ad0f6ecb.js" as="script"><link rel="prefetch" href="/interview/assets/design1.html-8dfda931.js" as="script"><link rel="prefetch" href="/interview/assets/design2.html-58370106.js" as="script"><link rel="prefetch" href="/interview/assets/graph.html-529287e9.js" as="script"><link rel="prefetch" href="/interview/assets/insertionSort.html-ccc68077.js" as="script"><link rel="prefetch" href="/interview/assets/mergeSort.html-086ab17a.js" as="script"><link rel="prefetch" href="/interview/assets/quickSort.html-ef5024fb.js" as="script"><link rel="prefetch" href="/interview/assets/selectionSort.html-daa5f342.js" as="script"><link rel="prefetch" href="/interview/assets/set.html-9b9753ae.js" as="script"><link rel="prefetch" href="/interview/assets/sort.html-d99c4bb1.js" as="script"><link rel="prefetch" href="/interview/assets/stack_queue.html-0e2896b5.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-54710df9.js" as="script"><link rel="prefetch" href="/interview/assets/time_space.html-ab61b6b1.js" as="script"><link rel="prefetch" href="/interview/assets/tree.html-f3878382.js" as="script"><link rel="prefetch" href="/interview/assets/WebView_jscore.html-241223b5.js" as="script"><link rel="prefetch" href="/interview/assets/applet.html-178d7829.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-e5f2b3a0.js" as="script"><link rel="prefetch" href="/interview/assets/login.html-608b9fd6.js" as="script"><link rel="prefetch" href="/interview/assets/navigate.html-3dcb4378.js" as="script"><link rel="prefetch" href="/interview/assets/optimization.html-f44aad61.js" as="script"><link rel="prefetch" href="/interview/assets/publish.html-ba7eac35.js" as="script"><link rel="prefetch" href="/interview/assets/requestPayment.html-66ac1437.js" as="script"><link rel="prefetch" href="/interview/assets/Binding events.html-b70a2442.js" as="script"><link rel="prefetch" href="/interview/assets/Building components.html-84bc2367.js" as="script"><link rel="prefetch" href="/interview/assets/Fiber.html-2db6ebe0.js" as="script"><link rel="prefetch" href="/interview/assets/High order components.html-0fd7e6b5.js" as="script"><link rel="prefetch" href="/interview/assets/Improve performance.html-7f99b5d1.js" as="script"><link rel="prefetch" href="/interview/assets/JSX to DOM.html-675f7932.js" as="script"><link rel="prefetch" href="/interview/assets/React Hooks.html-04505080.js" as="script"><link rel="prefetch" href="/interview/assets/React Router model.html-54289aa0.js" as="script"><link rel="prefetch" href="/interview/assets/React Router.html-09f23500.js" as="script"><link rel="prefetch" href="/interview/assets/React refs.html-2113b4ab.js" as="script"><link rel="prefetch" href="/interview/assets/React.html-f7334d32.js" as="script"><link rel="prefetch" href="/interview/assets/Real DOM_Virtual DOM.html-1467c2cc.js" as="script"><link rel="prefetch" href="/interview/assets/Redux Middleware.html-3b72a6c7.js" as="script"><link rel="prefetch" href="/interview/assets/SyntheticEvent.html-93d51934.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-7b089239.js" as="script"><link rel="prefetch" href="/interview/assets/capture error.html-0a935c7a.js" as="script"><link rel="prefetch" href="/interview/assets/class_function component.html-7f505d12.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-0135c42b.js" as="script"><link rel="prefetch" href="/interview/assets/controlled_Uncontrolled.html-675ba233.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-505ec54e.js" as="script"><link rel="prefetch" href="/interview/assets/how to use redux.html-7c62c84d.js" as="script"><link rel="prefetch" href="/interview/assets/immutable.html-63bf68ad.js" as="script"><link rel="prefetch" href="/interview/assets/import css.html-4e54d32d.js" as="script"><link rel="prefetch" href="/interview/assets/improve_render.html-345ccc2f.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-ccd842cb.js" as="script"><link rel="prefetch" href="/interview/assets/life cycle.html-52439b7e.js" as="script"><link rel="prefetch" href="/interview/assets/redux.html-266528d2.js" as="script"><link rel="prefetch" href="/interview/assets/render.html-7d05a8aa.js" as="script"><link rel="prefetch" href="/interview/assets/server side rendering.html-b706b736.js" as="script"><link rel="prefetch" href="/interview/assets/setState.html-3db13d34.js" as="script"><link rel="prefetch" href="/interview/assets/state_props.html-28013ee0.js" as="script"><link rel="prefetch" href="/interview/assets/summary.html-e021fa9d.js" as="script"><link rel="prefetch" href="/interview/assets/super()_super(props).html-ac053daa.js" as="script"><link rel="prefetch" href="/interview/assets/BFC.html-6dc7f157.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-2c0ac322.js" as="script"><link rel="prefetch" href="/interview/assets/box.html-77384f86.js" as="script"><link rel="prefetch" href="/interview/assets/center.html-1c567503.js" as="script"><link rel="prefetch" href="/interview/assets/column_layout.html-fb75ae60.js" as="script"><link rel="prefetch" href="/interview/assets/css3_features.html-1e4cdbad.js" as="script"><link rel="prefetch" href="/interview/assets/css_performance.html-f61ea5c3.js" as="script"><link rel="prefetch" href="/interview/assets/dp_px_dpr_ppi.html-a4a4ed78.js" as="script"><link rel="prefetch" href="/interview/assets/em_px_rem_vh_vw.html-e99f7753.js" as="script"><link rel="prefetch" href="/interview/assets/flexbox.html-39395243.js" as="script"><link rel="prefetch" href="/interview/assets/grid.html-bc1a16cb.js" as="script"><link rel="prefetch" href="/interview/assets/hide_attributes.html-4a19c915.js" as="script"><link rel="prefetch" href="/interview/assets/layout_painting.html-f7c984cf.js" as="script"><link rel="prefetch" href="/interview/assets/less_12px.html-4d1c94c0.js" as="script"><link rel="prefetch" href="/interview/assets/responsive_layout.html-ce02c242.js" as="script"><link rel="prefetch" href="/interview/assets/sass_less_stylus.html-e71d379b.js" as="script"><link rel="prefetch" href="/interview/assets/selector.html-5431f5db.js" as="script"><link rel="prefetch" href="/interview/assets/single_multi_line.html-6e09527d.js" as="script"><link rel="prefetch" href="/interview/assets/triangle.html-35f2af25.js" as="script"><link rel="prefetch" href="/interview/assets/visual_scrolling.html-72f85df8.js" as="script"><link rel="prefetch" href="/interview/assets/Factory  Pattern.html-429cb7e9.js" as="script"><link rel="prefetch" href="/interview/assets/Observer  Pattern.html-33350c93.js" as="script"><link rel="prefetch" href="/interview/assets/Proxy Pattern.html-87614bd4.js" as="script"><link rel="prefetch" href="/interview/assets/Singleton Pattern.html-6a7bc416.js" as="script"><link rel="prefetch" href="/interview/assets/Strategy Pattern.html-f9b9ef0d.js" as="script"><link rel="prefetch" href="/interview/assets/design.html-572cf094.js" as="script"><link rel="prefetch" href="/interview/assets/array.html-561f9bda.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-9e08fd27.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-da7f342c.js" as="script"><link rel="prefetch" href="/interview/assets/generator.html-d998776b.js" as="script"><link rel="prefetch" href="/interview/assets/module.html-f62cf37d.js" as="script"><link rel="prefetch" href="/interview/assets/object.html-84270d5b.js" as="script"><link rel="prefetch" href="/interview/assets/promise.html-2a25a37b.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-83501e6e.js" as="script"><link rel="prefetch" href="/interview/assets/set_map.html-d52f19c1.js" as="script"><link rel="prefetch" href="/interview/assets/var_let_const.html-6a66cfd2.js" as="script"><link rel="prefetch" href="/interview/assets/Git.html-d5827a0d.js" as="script"><link rel="prefetch" href="/interview/assets/HEAD_tree_index.html-dbc899cb.js" as="script"><link rel="prefetch" href="/interview/assets/Version control.html-5ecaa929.js" as="script"><link rel="prefetch" href="/interview/assets/command.html-d3381ad3.js" as="script"><link rel="prefetch" href="/interview/assets/conflict.html-ec7fa0f4.js" as="script"><link rel="prefetch" href="/interview/assets/fork_clone_branch.html-4305f4e8.js" as="script"><link rel="prefetch" href="/interview/assets/git pull _git fetch.html-2dcdf231.js" as="script"><link rel="prefetch" href="/interview/assets/git rebase_ git merge.html-45542967.js" as="script"><link rel="prefetch" href="/interview/assets/git reset_ git revert.html-dad1cd90.js" as="script"><link rel="prefetch" href="/interview/assets/git stash.html-383f6d68.js" as="script"><link rel="prefetch" href="/interview/assets/1.0_1.1_2.0.html-45a17cde.js" as="script"><link rel="prefetch" href="/interview/assets/CDN.html-15b9799e.js" as="script"><link rel="prefetch" href="/interview/assets/DNS.html-eb976500.js" as="script"><link rel="prefetch" href="/interview/assets/GET_POST.html-a64b2769.js" as="script"><link rel="prefetch" href="/interview/assets/HTTPS.html-78a4136b.js" as="script"><link rel="prefetch" href="/interview/assets/HTTP_HTTPS.html-e7631369.js" as="script"><link rel="prefetch" href="/interview/assets/OSI.html-f697bad9.js" as="script"><link rel="prefetch" href="/interview/assets/TCP_IP.html-7bf6e166.js" as="script"><link rel="prefetch" href="/interview/assets/UDP_TCP.html-3ed64251.js" as="script"><link rel="prefetch" href="/interview/assets/WebSocket.html-0f51c1ec.js" as="script"><link rel="prefetch" href="/interview/assets/after_url.html-9101808e.js" as="script"><link rel="prefetch" href="/interview/assets/handshakes_waves.html-af6ea36e.js" as="script"><link rel="prefetch" href="/interview/assets/headers.html-05a35fc0.js" as="script"><link rel="prefetch" href="/interview/assets/status.html-2c63532a.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-113907dc.js" as="script"><link rel="prefetch" href="/interview/assets/css.html-e751c4cb.js" as="script"><link rel="prefetch" href="/interview/assets/html.html-27461b4e.js" as="script"><link rel="prefetch" href="/interview/assets/javascript.html-5a2dd3a5.js" as="script"><link rel="prefetch" href="/interview/assets/life01.html-7d51d7dd.js" as="script"><link rel="prefetch" href="/interview/assets/life02.html-37fedb53.js" as="script"><link rel="prefetch" href="/interview/assets/life03.html-a75e08e6.js" as="script"><link rel="prefetch" href="/interview/assets/file.html-239ae8cb.js" as="script"><link rel="prefetch" href="/interview/assets/linux users.html-84bfb1b2.js" as="script"><link rel="prefetch" href="/interview/assets/linux.html-ffe21961.js" as="script"><link rel="prefetch" href="/interview/assets/redirect_pipe.html-dfe17060.js" as="script"><link rel="prefetch" href="/interview/assets/shell.html-40a366a7.js" as="script"><link rel="prefetch" href="/interview/assets/thread_process.html-e417bd5b.js" as="script"><link rel="prefetch" href="/interview/assets/vim.html-8355a17d.js" as="script"><link rel="prefetch" href="/interview/assets/class.html-a3a90620.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-db52d0d2.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-3ac2a549.js" as="script"><link rel="prefetch" href="/interview/assets/enum.html-772c01e7.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-36b3b9f2.js" as="script"><link rel="prefetch" href="/interview/assets/generic.html-f3d364f6.js" as="script"><link rel="prefetch" href="/interview/assets/high type.html-3ee48d12.js" as="script"><link rel="prefetch" href="/interview/assets/interface.html-1958ec43.js" as="script"><link rel="prefetch" href="/interview/assets/namespace_module.html-c229dda9.js" as="script"><link rel="prefetch" href="/interview/assets/react.html-675805de.js" as="script"><link rel="prefetch" href="/interview/assets/typescript_javascript.html-e2d34174.js" as="script"><link rel="prefetch" href="/interview/assets/vue.html-3c8e8161.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-d15ff4f3.js" as="script"><link rel="prefetch" href="/interview/assets/axios.html-92e3b2b7.js" as="script"><link rel="prefetch" href="/interview/assets/axiosCode.html-eb67d876.js" as="script"><link rel="prefetch" href="/interview/assets/bind.html-e6f4dba5.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-e4ff5a12.js" as="script"><link rel="prefetch" href="/interview/assets/components_plugin.html-2c8ef9e3.js" as="script"><link rel="prefetch" href="/interview/assets/cors.html-874e1e87.js" as="script"><link rel="prefetch" href="/interview/assets/data.html-5e23eeb2.js" as="script"><link rel="prefetch" href="/interview/assets/data_object_add_attrs.html-31c5aa19.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-1d20cd9f.js" as="script"><link rel="prefetch" href="/interview/assets/directive.html-212cdb44.js" as="script"><link rel="prefetch" href="/interview/assets/error.html-55b42c3a.js" as="script"><link rel="prefetch" href="/interview/assets/filter.html-532a3646.js" as="script"><link rel="prefetch" href="/interview/assets/first_page_time.html-34990fff.js" as="script"><link rel="prefetch" href="/interview/assets/if_for.html-370f31ad.js" as="script"><link rel="prefetch" href="/interview/assets/keepalive.html-1370b8fd.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-926098f7.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-c58e262b.js" as="script"><link rel="prefetch" href="/interview/assets/mixin.html-ba46c941.js" as="script"><link rel="prefetch" href="/interview/assets/modifier.html-c65a0625.js" as="script"><link rel="prefetch" href="/interview/assets/new_vue.html-f6e4ed85.js" as="script"><link rel="prefetch" href="/interview/assets/nexttick.html-d34e4ce8.js" as="script"><link rel="prefetch" href="/interview/assets/observable.html-d572b7ff.js" as="script"><link rel="prefetch" href="/interview/assets/show_if.html-00eded9b.js" as="script"><link rel="prefetch" href="/interview/assets/slot.html-c45a07d0.js" as="script"><link rel="prefetch" href="/interview/assets/spa.html-7b4e48ff.js" as="script"><link rel="prefetch" href="/interview/assets/ssr.html-4f56ba27.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-262ffb3f.js" as="script"><link rel="prefetch" href="/interview/assets/vnode.html-0c9eadc5.js" as="script"><link rel="prefetch" href="/interview/assets/vue3_vue2.html-a363b035.js" as="script"><link rel="prefetch" href="/interview/assets/composition.html-f142d232.js" as="script"><link rel="prefetch" href="/interview/assets/goal.html-4ac334d1.js" as="script"><link rel="prefetch" href="/interview/assets/modal_component.html-a06be6de.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-038ad27f.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-dad36eed.js" as="script"><link rel="prefetch" href="/interview/assets/treeshaking.html-d77751a2.js" as="script"><link rel="prefetch" href="/interview/assets/HMR.html-19748912.js" as="script"><link rel="prefetch" href="/interview/assets/Loader.html-c3132524.js" as="script"><link rel="prefetch" href="/interview/assets/Loader_Plugin.html-11a73036.js" as="script"><link rel="prefetch" href="/interview/assets/Plugin.html-357d299b.js" as="script"><link rel="prefetch" href="/interview/assets/Rollup_Parcel_snowpack_Vite.html-709425db.js" as="script"><link rel="prefetch" href="/interview/assets/build_process.html-aa983f5c.js" as="script"><link rel="prefetch" href="/interview/assets/improve_build.html-fa8544a9.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-259f5276.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-10049f5c.js" as="script"><link rel="prefetch" href="/interview/assets/webpack.html-db39f517.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-e956bbbc.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/interview/" class=""><!----><span class="site-name">Hello World ！</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">面试官：vue要做权限管理该怎么做？如果控制到按钮级别的权限怎么做？ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview/vue/permission.html#一、是什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="一、是什么"><!--[--><!--]--> 一、是什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue/permission.html#二、如何做" class="router-link-active router-link-exact-active sidebar-item" aria-label="二、如何做"><!--[--><!--]--> 二、如何做 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview/vue/permission.html#接口权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="接口权限"><!--[--><!--]--> 接口权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue/permission.html#路由权限控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="路由权限控制"><!--[--><!--]--> 路由权限控制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue/permission.html#菜单权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="菜单权限"><!--[--><!--]--> 菜单权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue/permission.html#按钮权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="按钮权限"><!--[--><!--]--> 按钮权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue/permission.html#小结" class="router-link-active router-link-exact-active sidebar-item" aria-label="小结"><!--[--><!--]--> 小结 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/interview/vue/permission.html#参考文献" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考文献"><!--[--><!--]--> 参考文献 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="面试官-vue要做权限管理该怎么做-如果控制到按钮级别的权限怎么做" tabindex="-1"><a class="header-anchor" href="#面试官-vue要做权限管理该怎么做-如果控制到按钮级别的权限怎么做" aria-hidden="true">#</a> 面试官：vue要做权限管理该怎么做？如果控制到按钮级别的权限怎么做？</h1><p><img src="https://static.vue-js.com/397e1fa0-4dad-11eb-ab90-d9ae814b240d.png" alt=""></p><h2 id="一、是什么" tabindex="-1"><a class="header-anchor" href="#一、是什么" aria-hidden="true">#</a> 一、是什么</h2><p>权限是对特定资源的访问许可，所谓权限控制，也就是确保用户只能访问到被分配的资源</p><p>而前端权限归根结底是请求的发起权，请求的发起可能有下面两种形式触发</p><ul><li>页面加载触发</li><li>页面上的按钮点击触发</li></ul><p>总的来说，所有的请求发起都触发自前端路由或视图</p><p>所以我们可以从这两方面入手，对触发权限的源头进行控制，最终要实现的目标是：</p><ul><li><p>路由方面，用户登录后只能看到自己有权访问的导航菜单，也只能访问自己有权访问的路由地址，否则将跳转 <code>4xx</code> 提示页</p></li><li><p>视图方面，用户只能看到自己有权浏览的内容和有权操作的控件</p></li><li><p>最后再加上请求控制作为最后一道防线，路由可能配置失误，按钮可能忘了加权限，这种时候请求控制可以用来兜底，越权请求将在前端被拦截</p></li></ul><h2 id="二、如何做" tabindex="-1"><a class="header-anchor" href="#二、如何做" aria-hidden="true">#</a> 二、如何做</h2><p>前端权限控制可以分为四个方面：</p><ul><li>接口权限</li><li>按钮权限</li><li>菜单权限</li><li>路由权限</li></ul><h3 id="接口权限" tabindex="-1"><a class="header-anchor" href="#接口权限" aria-hidden="true">#</a> 接口权限</h3><p>接口权限目前一般采用<code>jwt</code>的形式来验证，没有通过的话一般返回<code>401</code>，跳转到登录页面重新进行登录</p><p>登录完拿到<code>token</code>，将<code>token</code>存起来，通过<code>axios</code>请求拦截器进行拦截，每次请求的时候头部携带<code>token</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">)</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>response<span class="token punctuation">}</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">40099</span> <span class="token operator">||</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">40098</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//token过期或者错误</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="路由权限控制" tabindex="-1"><a class="header-anchor" href="#路由权限控制" aria-hidden="true">#</a> 路由权限控制</h3><p><strong>方案一</strong></p><p>初始化即挂载全部路由，并且在路由上标记相应的权限信息，每次路由跳转前做校验</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> routerMap <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/permission&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">&#39;/permission/index&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alwaysShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// will always show the root menu</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;permission&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;lock&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;editor&#39;</span><span class="token punctuation">]</span> <span class="token comment">// you can set roles in root nav</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;page&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/permission/page&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;pagePermission&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;pagePermission&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">]</span> <span class="token comment">// or you can only set roles in sub nav</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;directive&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/permission/directive&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;directivePermission&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;directivePermission&#39;</span>
        <span class="token comment">// if do not set roles, means: this page does not require permission</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种方式存在以下四种缺点：</p><ul><li><p>加载所有的路由，如果路由很多，而用户并不是所有的路由都有权限访问，对性能会有影响。</p></li><li><p>全局路由守卫里，每次路由跳转都要做权限判断。</p></li><li><p>菜单信息写死在前端，要改个显示文字或权限信息，需要重新编译</p></li><li><p>菜单跟路由耦合在一起，定义路由的时候还有添加菜单显示标题，图标之类的信息，而且路由不一定作为菜单显示，还要多加字段进行标识</p></li></ul><p><strong>方案二</strong></p><p>初始化的时候先挂载不需要权限控制的路由，比如登录页，404等错误页。如果用户通过URL进行强制访问，则会直接进入404，相当于从源头上做了控制</p><p>登录后，获取用户的权限信息，然后筛选有权限访问的路由，在全局路由守卫里进行调用<code>addRoutes</code>添加路由</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-ui&#39;</span>
<span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&#39;nprogress&#39;</span> <span class="token comment">// progress bar</span>
<span class="token keyword">import</span> <span class="token string">&#39;nprogress/nprogress.css&#39;</span><span class="token comment">// progress bar style</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/auth&#39;</span> <span class="token comment">// getToken from cookie</span>

NProgress<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">showSpinner</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// NProgress Configuration</span>

<span class="token comment">// permission judge function</span>
<span class="token keyword">function</span> <span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token parameter">roles<span class="token punctuation">,</span> permissionRoles</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>roles<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">// admin permission passed directly</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>permissionRoles<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token keyword">return</span> roles<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> permissionRoles<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> whiteList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/authredirect&#39;</span><span class="token punctuation">]</span><span class="token comment">// no redirect whitelist</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// start progress bar</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// determine if there has token</span>
    <span class="token comment">/* has token*/</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// if current page is dashboard will not trigger	afterEach hook, so manually handle it</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 判断当前用户是否已拉取完user_info信息</span>
        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;GetUserInfo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 拉取user_info</span>
          <span class="token keyword">const</span> roles <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>roles <span class="token comment">// note: roles must be a array! such as: [&#39;editor&#39;,&#39;develop&#39;]</span>
          store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;GenerateRoutes&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> roles <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 根据roles权限生成可访问的路由表</span>
            router<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>addRouters<span class="token punctuation">)</span> <span class="token comment">// 动态添加可访问路由表</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>to<span class="token punctuation">,</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// hack方法 确保addRoutes已完成 ,set the replace: true so the navigation will not leave a history record</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;FedLogOut&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            Message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err <span class="token operator">||</span> <span class="token string">&#39;Verification failed, please login again&#39;</span><span class="token punctuation">)</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 没有动态改变权限的需求可直接next() 删除下方权限判断 ↓</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>roles<span class="token punctuation">,</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>roles<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/401&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">noGoBack</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 可删 ↑</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">/* has no token*/</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 在免登录白名单，直接进入</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 否则全部重定向到登录页</span>
      NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// if current page is login will not trigger afterEach hook, so manually handle it</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// finish progress bar</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>按需挂载，路由就需要知道用户的路由权限，也就是在用户登录进来的时候就要知道当前用户拥有哪些路由权限</p><p>这种方式也存在了以下的缺点：</p><ul><li>全局路由守卫里，每次路由跳转都要做判断</li><li>菜单信息写死在前端，要改个显示文字或权限信息，需要重新编译</li><li>菜单跟路由耦合在一起，定义路由的时候还有添加菜单显示标题，图标之类的信息，而且路由不一定作为菜单显示，还要多加字段进行标识</li></ul><h3 id="菜单权限" tabindex="-1"><a class="header-anchor" href="#菜单权限" aria-hidden="true">#</a> 菜单权限</h3><p>菜单权限可以理解成将页面与理由进行解耦</p><h4 id="方案一" tabindex="-1"><a class="header-anchor" href="#方案一" aria-hidden="true">#</a> 方案一</h4><p>菜单与路由分离，菜单由后端返回</p><p>前端定义路由信息</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/pages/Login.vue&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>name</code>字段都不为空，需要根据此字段与后端返回菜单做关联，后端返回的菜单信息中必须要有<code>name</code>对应的字段，并且做唯一性校验</p><p>全局路由守卫里做判断</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token parameter">router<span class="token punctuation">,</span> accessMenu</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> menu <span class="token operator">=</span> Util<span class="token punctuation">.</span><span class="token function">getMenuByName</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>name<span class="token punctuation">,</span> accessMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>menu<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

Router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> userInfo <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>userInfo<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;GetUserInfo&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;updateAccessMenu&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;home_index&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">//Util.toDefaultPage([...routers], to.name, router, next);</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>to<span class="token punctuation">,</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//菜单权限更新完成,重新进一次当前路由</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>  
      <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 在免登录白名单，直接进入</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;home_index&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>accessMenu<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          Util<span class="token punctuation">.</span><span class="token function">toDefaultPage</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>accessMenu<span class="token punctuation">,</span>to<span class="token punctuation">,</span> routes<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/403&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">replace</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 在免登录白名单，直接进入</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> menu <span class="token operator">=</span> Util<span class="token punctuation">.</span><span class="token function">getMenuByName</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>name<span class="token punctuation">,</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>accessMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Util<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span>menu<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每次路由跳转的时候都要判断权限，这里的判断也很简单，因为菜单的<code>name</code>与路由的<code>name</code>是一一对应的，而后端返回的菜单就已经是经过权限过滤的</p><p>如果根据路由<code>name</code>找不到对应的菜单，就表示用户有没权限访问</p><p>如果路由很多，可以在应用初始化的时候，只挂载不需要权限控制的路由。取得后端返回的菜单后，根据菜单与路由的对应关系，筛选出可访问的路由，通过<code>addRoutes</code>动态挂载</p><p>这种方式的缺点：</p><ul><li>菜单需要与路由做一一对应，前端添加了新功能，需要通过菜单管理功能添加新的菜单，如果菜单配置的不对会导致应用不能正常使用</li><li>全局路由守卫里，每次路由跳转都要做判断</li></ul><h4 id="方案二" tabindex="-1"><a class="header-anchor" href="#方案二" aria-hidden="true">#</a> 方案二</h4><p>菜单和路由都由后端返回</p><p>前端统一定义路由组件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../pages/Home.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">UserInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../pages/UserInfo.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">home</span><span class="token operator">:</span> Home<span class="token punctuation">,</span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> UserInfo
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>后端路由组件返回以下格式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">&quot;home&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/userinfo&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">&quot;userInfo&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在将后端返回路由通过<code>addRoutes</code>动态挂载之间，需要将数据处理一下，将<code>component</code>字段换为真正的组件</p><p>如果有嵌套路由，后端功能设计的时候，要注意添加相应的字段，前端拿到数据也要做相应的处理</p><p>这种方法也会存在缺点：</p><ul><li>全局路由守卫里，每次路由跳转都要做判断</li><li>前后端的配合要求更高</li></ul><h3 id="按钮权限" tabindex="-1"><a class="header-anchor" href="#按钮权限" aria-hidden="true">#</a> 按钮权限</h3><h4 id="方案一-1" tabindex="-1"><a class="header-anchor" href="#方案一-1" aria-hidden="true">#</a> 方案一</h4><p>按钮权限也可以用<code>v-if</code>判断</p><p>但是如果页面过多，每个页面页面都要获取用户权限<code>role</code>和路由表里的<code>meta.btnPermissions</code>，然后再做判断</p><p>这种方式就不展开举例了</p><h4 id="方案二-1" tabindex="-1"><a class="header-anchor" href="#方案二-1" aria-hidden="true">#</a> 方案二</h4><p>通过自定义指令进行按钮权限的判断</p><p>首先配置路由</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/permission&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;权限测试&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">btnPermissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;supper&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//页面需要的权限</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;supper&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token function">_import</span><span class="token punctuation">(</span><span class="token string">&#39;system/supper&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;权限测试页&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">btnPermissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;supper&#39;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token comment">//页面需要的权限</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token function">_import</span><span class="token punctuation">(</span><span class="token string">&#39;system/normal&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;权限测试页&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">btnPermissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token comment">//页面需要的权限</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>自定义权限鉴定指令</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token doc-comment comment">/**权限指令**/</span>
<span class="token keyword">const</span> has <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;has&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">bind</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取页面按钮权限</span>
        <span class="token keyword">let</span> btnPermissionsArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 如果指令传值，获取指令参数，根据指令参数和当前登录人按钮权限做比较。</span>
            btnPermissionsArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token comment">// 否则获取路由中的参数，根据路由的btnPermissionsArr和当前登录人按钮权限做比较。</span>
            btnPermissionsArr <span class="token operator">=</span> vnode<span class="token punctuation">.</span>context<span class="token punctuation">.</span>$route<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>btnPermissions<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">$_has</span><span class="token punctuation">(</span>btnPermissionsArr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 权限检查方法</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$_has</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> isExist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取用户按钮权限</span>
    <span class="token keyword">let</span> btnPermissionsStr <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;btnPermissions&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>btnPermissionsStr <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> btnPermissionsStr <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>btnPermissionsStr<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        isExist <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> isExist<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>has<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在使用的按钮中只需要引用<code>v-has</code>指令</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">&#39;editClick&#39;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> v<span class="token operator">-</span>has<span class="token operator">&gt;</span>编辑<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="小结" tabindex="-1"><a class="header-anchor" href="#小结" aria-hidden="true">#</a> 小结</h3><p>关于权限如何选择哪种合适的方案，可以根据自己项目的方案项目，如考虑路由与菜单是否分离</p><p>权限需要前后端结合，前端尽可能的去控制，更多的需要后台判断</p><h2 id="参考文献" tabindex="-1"><a class="header-anchor" href="#参考文献" aria-hidden="true">#</a> 参考文献</h2><ul><li>https://mp.weixin.qq.com/s/b-D2eH1mLwL_FkaZwjueSw</li><li>https://segmentfault.com/a/1190000020887109</li><li>https://juejin.cn/post/6844903648057622536#heading-6</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: wangyaxin04@meituan.com">wangyaxin04</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/interview/assets/app-c0885663.js" defer></script>
  </body>
</html>
