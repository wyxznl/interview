<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.62">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>面试官：用Vue3.0 写过组件吗？如果想实现一个 Modal你会怎么设计？ | Hello World ！</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <link rel="preload" href="/interview/assets/style-a44f9669.css" as="style"><link rel="stylesheet" href="/interview/assets/style-a44f9669.css">
    <link rel="modulepreload" href="/interview/assets/app-c0885663.js"><link rel="modulepreload" href="/interview/assets/modal_component.html-a06be6de.js"><link rel="modulepreload" href="/interview/assets/modal_component.html-d21541a5.js"><link rel="prefetch" href="/interview/assets/index.html-b13a36ce.js" as="script"><link rel="prefetch" href="/interview/assets/ ____.html-610e0a14.js" as="script"><link rel="prefetch" href="/interview/assets/BOM.html-170fcc9e.js" as="script"><link rel="prefetch" href="/interview/assets/Dom.html-4f2ad7bb.js" as="script"><link rel="prefetch" href="/interview/assets/ajax.html-c894d07d.js" as="script"><link rel="prefetch" href="/interview/assets/array_api.html-87bc089c.js" as="script"><link rel="prefetch" href="/interview/assets/bind_call_apply.html-8782b0ee.js" as="script"><link rel="prefetch" href="/interview/assets/cache.html-676c28cf.js" as="script"><link rel="prefetch" href="/interview/assets/closure.html-4ecd4523.js" as="script"><link rel="prefetch" href="/interview/assets/context_stack.html-1b4124ca.js" as="script"><link rel="prefetch" href="/interview/assets/continue_to_upload.html-a495b8c1.js" as="script"><link rel="prefetch" href="/interview/assets/copy.html-6237fc84.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-46d5ac83.js" as="script"><link rel="prefetch" href="/interview/assets/debounce_throttle.html-fbfa4913.js" as="script"><link rel="prefetch" href="/interview/assets/event_Model.html-f2d4f433.js" as="script"><link rel="prefetch" href="/interview/assets/event_agent.html-03a39be5.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-bc418f4a.js" as="script"><link rel="prefetch" href="/interview/assets/function_cache.html-6f437fa0.js" as="script"><link rel="prefetch" href="/interview/assets/functional_programming.html-f9d6856b.js" as="script"><link rel="prefetch" href="/interview/assets/inherit.html-b9b10fe2.js" as="script"><link rel="prefetch" href="/interview/assets/js_data_structure.html-0b1142ea.js" as="script"><link rel="prefetch" href="/interview/assets/loss_accuracy.html-14136d0c.js" as="script"><link rel="prefetch" href="/interview/assets/memory_leak.html-37d79fd9.js" as="script"><link rel="prefetch" href="/interview/assets/new.html-f21ccbfc.js" as="script"><link rel="prefetch" href="/interview/assets/prototype.html-7a5a3d34.js" as="script"><link rel="prefetch" href="/interview/assets/pull_up_loading_pull_down_refresh.html-c3c5ac69.js" as="script"><link rel="prefetch" href="/interview/assets/regexp.html-113de670.js" as="script"><link rel="prefetch" href="/interview/assets/scope.html-65c28fa5.js" as="script"><link rel="prefetch" href="/interview/assets/security.html-69c4d207.js" as="script"><link rel="prefetch" href="/interview/assets/single_sign.html-7d997521.js" as="script"><link rel="prefetch" href="/interview/assets/string_api.html-d909f395.js" as="script"><link rel="prefetch" href="/interview/assets/tail_recursion.html-d0469040.js" as="script"><link rel="prefetch" href="/interview/assets/this.html-ef721e98.js" as="script"><link rel="prefetch" href="/interview/assets/type_conversion.html-d7f6a26b.js" as="script"><link rel="prefetch" href="/interview/assets/typeof_instanceof.html-9b2b25a5.js" as="script"><link rel="prefetch" href="/interview/assets/visible.html-847421d0.js" as="script"><link rel="prefetch" href="/interview/assets/Buffer.html-3626b96a.js" as="script"><link rel="prefetch" href="/interview/assets/EventEmitter.html-4536e90b.js" as="script"><link rel="prefetch" href="/interview/assets/Stream.html-c4748421.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-700fea9e.js" as="script"><link rel="prefetch" href="/interview/assets/file_upload.html-7dd93c1f.js" as="script"><link rel="prefetch" href="/interview/assets/fs.html-43460f18.js" as="script"><link rel="prefetch" href="/interview/assets/global.html-003f0bc8.js" as="script"><link rel="prefetch" href="/interview/assets/jwt.html-901ba436.js" as="script"><link rel="prefetch" href="/interview/assets/middleware.html-95b304d4.js" as="script"><link rel="prefetch" href="/interview/assets/nodejs.html-8617025a.js" as="script"><link rel="prefetch" href="/interview/assets/paging.html-f3612c63.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-859efab7.js" as="script"><link rel="prefetch" href="/interview/assets/process.html-490c5435.js" as="script"><link rel="prefetch" href="/interview/assets/require_order.html-93fd02e1.js" as="script"><link rel="prefetch" href="/interview/assets/Algorithm.html-f4bd22c2.js" as="script"><link rel="prefetch" href="/interview/assets/BinarySearch.html-e8bd8025.js" as="script"><link rel="prefetch" href="/interview/assets/Heap.html-ae6157ff.js" as="script"><link rel="prefetch" href="/interview/assets/Linked List.html-62b9c66b.js" as="script"><link rel="prefetch" href="/interview/assets/bubbleSort.html-3d13606a.js" as="script"><link rel="prefetch" href="/interview/assets/design1.html-ce6bd826.js" as="script"><link rel="prefetch" href="/interview/assets/design2.html-1e132d8a.js" as="script"><link rel="prefetch" href="/interview/assets/graph.html-1ae96d95.js" as="script"><link rel="prefetch" href="/interview/assets/insertionSort.html-9f426e12.js" as="script"><link rel="prefetch" href="/interview/assets/mergeSort.html-661cfa71.js" as="script"><link rel="prefetch" href="/interview/assets/quickSort.html-c1fd0f46.js" as="script"><link rel="prefetch" href="/interview/assets/selectionSort.html-8f1440fe.js" as="script"><link rel="prefetch" href="/interview/assets/set.html-5957d752.js" as="script"><link rel="prefetch" href="/interview/assets/sort.html-2ebb5aa6.js" as="script"><link rel="prefetch" href="/interview/assets/stack_queue.html-0cde041a.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-8fae96ea.js" as="script"><link rel="prefetch" href="/interview/assets/time_space.html-33be227d.js" as="script"><link rel="prefetch" href="/interview/assets/tree.html-a639406e.js" as="script"><link rel="prefetch" href="/interview/assets/WebView_jscore.html-bce5c4e3.js" as="script"><link rel="prefetch" href="/interview/assets/applet.html-84a8742b.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-e3cf4abe.js" as="script"><link rel="prefetch" href="/interview/assets/login.html-166f0f8f.js" as="script"><link rel="prefetch" href="/interview/assets/navigate.html-3e9a8e04.js" as="script"><link rel="prefetch" href="/interview/assets/optimization.html-3202e7d9.js" as="script"><link rel="prefetch" href="/interview/assets/publish.html-66ef9692.js" as="script"><link rel="prefetch" href="/interview/assets/requestPayment.html-718f95cd.js" as="script"><link rel="prefetch" href="/interview/assets/Binding events.html-2f56d39f.js" as="script"><link rel="prefetch" href="/interview/assets/Building components.html-7edf9ac5.js" as="script"><link rel="prefetch" href="/interview/assets/Fiber.html-492ba891.js" as="script"><link rel="prefetch" href="/interview/assets/High order components.html-9fb77331.js" as="script"><link rel="prefetch" href="/interview/assets/Improve performance.html-7a7bbab5.js" as="script"><link rel="prefetch" href="/interview/assets/JSX to DOM.html-9fad6222.js" as="script"><link rel="prefetch" href="/interview/assets/React Hooks.html-c107c871.js" as="script"><link rel="prefetch" href="/interview/assets/React Router model.html-3a0e2434.js" as="script"><link rel="prefetch" href="/interview/assets/React Router.html-2a489117.js" as="script"><link rel="prefetch" href="/interview/assets/React refs.html-580986ac.js" as="script"><link rel="prefetch" href="/interview/assets/React.html-2236389d.js" as="script"><link rel="prefetch" href="/interview/assets/Real DOM_Virtual DOM.html-8fec60bb.js" as="script"><link rel="prefetch" href="/interview/assets/Redux Middleware.html-1afc9bb7.js" as="script"><link rel="prefetch" href="/interview/assets/SyntheticEvent.html-66423947.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-74f11b8f.js" as="script"><link rel="prefetch" href="/interview/assets/capture error.html-6cb63b3d.js" as="script"><link rel="prefetch" href="/interview/assets/class_function component.html-a5fe3444.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-5d6f9d23.js" as="script"><link rel="prefetch" href="/interview/assets/controlled_Uncontrolled.html-4b10a5b1.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-7b1a23f6.js" as="script"><link rel="prefetch" href="/interview/assets/how to use redux.html-bf3d1be1.js" as="script"><link rel="prefetch" href="/interview/assets/immutable.html-30ac4b95.js" as="script"><link rel="prefetch" href="/interview/assets/import css.html-99c192a4.js" as="script"><link rel="prefetch" href="/interview/assets/improve_render.html-999e502b.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-83a750af.js" as="script"><link rel="prefetch" href="/interview/assets/life cycle.html-eb9a0fe4.js" as="script"><link rel="prefetch" href="/interview/assets/redux.html-59da3a27.js" as="script"><link rel="prefetch" href="/interview/assets/render.html-01561d31.js" as="script"><link rel="prefetch" href="/interview/assets/server side rendering.html-8d1393ec.js" as="script"><link rel="prefetch" href="/interview/assets/setState.html-00d4cf29.js" as="script"><link rel="prefetch" href="/interview/assets/state_props.html-17ec3d0b.js" as="script"><link rel="prefetch" href="/interview/assets/summary.html-fd0def1b.js" as="script"><link rel="prefetch" href="/interview/assets/super()_super(props).html-2140cbe0.js" as="script"><link rel="prefetch" href="/interview/assets/BFC.html-725b19a4.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-62688721.js" as="script"><link rel="prefetch" href="/interview/assets/box.html-50874e50.js" as="script"><link rel="prefetch" href="/interview/assets/center.html-e3df3352.js" as="script"><link rel="prefetch" href="/interview/assets/column_layout.html-bb6c12bf.js" as="script"><link rel="prefetch" href="/interview/assets/css3_features.html-1f3da90d.js" as="script"><link rel="prefetch" href="/interview/assets/css_performance.html-6bca0d40.js" as="script"><link rel="prefetch" href="/interview/assets/dp_px_dpr_ppi.html-1206203b.js" as="script"><link rel="prefetch" href="/interview/assets/em_px_rem_vh_vw.html-91d516d6.js" as="script"><link rel="prefetch" href="/interview/assets/flexbox.html-7a65b9a0.js" as="script"><link rel="prefetch" href="/interview/assets/grid.html-c0bc4157.js" as="script"><link rel="prefetch" href="/interview/assets/hide_attributes.html-acab0bb9.js" as="script"><link rel="prefetch" href="/interview/assets/layout_painting.html-8661f390.js" as="script"><link rel="prefetch" href="/interview/assets/less_12px.html-c6091782.js" as="script"><link rel="prefetch" href="/interview/assets/responsive_layout.html-11289b3f.js" as="script"><link rel="prefetch" href="/interview/assets/sass_less_stylus.html-b42aa739.js" as="script"><link rel="prefetch" href="/interview/assets/selector.html-e7db6ca2.js" as="script"><link rel="prefetch" href="/interview/assets/single_multi_line.html-feec11ec.js" as="script"><link rel="prefetch" href="/interview/assets/triangle.html-cca20f47.js" as="script"><link rel="prefetch" href="/interview/assets/visual_scrolling.html-59b6b25b.js" as="script"><link rel="prefetch" href="/interview/assets/Factory  Pattern.html-8c1ee12e.js" as="script"><link rel="prefetch" href="/interview/assets/Observer  Pattern.html-a13e5834.js" as="script"><link rel="prefetch" href="/interview/assets/Proxy Pattern.html-3a892bc2.js" as="script"><link rel="prefetch" href="/interview/assets/Singleton Pattern.html-6e0a0f72.js" as="script"><link rel="prefetch" href="/interview/assets/Strategy Pattern.html-a479da7f.js" as="script"><link rel="prefetch" href="/interview/assets/design.html-ce2bed8b.js" as="script"><link rel="prefetch" href="/interview/assets/array.html-dff0b803.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-abb4b36a.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-8e11713c.js" as="script"><link rel="prefetch" href="/interview/assets/generator.html-5046975e.js" as="script"><link rel="prefetch" href="/interview/assets/module.html-d6f998f6.js" as="script"><link rel="prefetch" href="/interview/assets/object.html-2281a515.js" as="script"><link rel="prefetch" href="/interview/assets/promise.html-ca21f511.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-c1d24598.js" as="script"><link rel="prefetch" href="/interview/assets/set_map.html-3308bb87.js" as="script"><link rel="prefetch" href="/interview/assets/var_let_const.html-10d9f869.js" as="script"><link rel="prefetch" href="/interview/assets/Git.html-bf6c5ee3.js" as="script"><link rel="prefetch" href="/interview/assets/HEAD_tree_index.html-908c7c4c.js" as="script"><link rel="prefetch" href="/interview/assets/Version control.html-5a2f58ab.js" as="script"><link rel="prefetch" href="/interview/assets/command.html-bb7065a4.js" as="script"><link rel="prefetch" href="/interview/assets/conflict.html-503fd339.js" as="script"><link rel="prefetch" href="/interview/assets/fork_clone_branch.html-9adc1df7.js" as="script"><link rel="prefetch" href="/interview/assets/git pull _git fetch.html-8bce9989.js" as="script"><link rel="prefetch" href="/interview/assets/git rebase_ git merge.html-814c5055.js" as="script"><link rel="prefetch" href="/interview/assets/git reset_ git revert.html-de26e8a3.js" as="script"><link rel="prefetch" href="/interview/assets/git stash.html-377c5340.js" as="script"><link rel="prefetch" href="/interview/assets/1.0_1.1_2.0.html-d9503c4c.js" as="script"><link rel="prefetch" href="/interview/assets/CDN.html-05681bd6.js" as="script"><link rel="prefetch" href="/interview/assets/DNS.html-0d9d5fde.js" as="script"><link rel="prefetch" href="/interview/assets/GET_POST.html-994b9327.js" as="script"><link rel="prefetch" href="/interview/assets/HTTPS.html-8c8c1db9.js" as="script"><link rel="prefetch" href="/interview/assets/HTTP_HTTPS.html-7062c7b8.js" as="script"><link rel="prefetch" href="/interview/assets/OSI.html-8dcb7dcc.js" as="script"><link rel="prefetch" href="/interview/assets/TCP_IP.html-59704934.js" as="script"><link rel="prefetch" href="/interview/assets/UDP_TCP.html-087c81d1.js" as="script"><link rel="prefetch" href="/interview/assets/WebSocket.html-717cd778.js" as="script"><link rel="prefetch" href="/interview/assets/after_url.html-aa6673e1.js" as="script"><link rel="prefetch" href="/interview/assets/handshakes_waves.html-8d0ca526.js" as="script"><link rel="prefetch" href="/interview/assets/headers.html-487da234.js" as="script"><link rel="prefetch" href="/interview/assets/status.html-2b3d182f.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-746601a8.js" as="script"><link rel="prefetch" href="/interview/assets/css.html-0a92be88.js" as="script"><link rel="prefetch" href="/interview/assets/html.html-a138a347.js" as="script"><link rel="prefetch" href="/interview/assets/javascript.html-d0cb2215.js" as="script"><link rel="prefetch" href="/interview/assets/life01.html-f35922f7.js" as="script"><link rel="prefetch" href="/interview/assets/life02.html-9bf23754.js" as="script"><link rel="prefetch" href="/interview/assets/life03.html-57c84341.js" as="script"><link rel="prefetch" href="/interview/assets/file.html-5214acb7.js" as="script"><link rel="prefetch" href="/interview/assets/linux users.html-4ac865d5.js" as="script"><link rel="prefetch" href="/interview/assets/linux.html-68d95f96.js" as="script"><link rel="prefetch" href="/interview/assets/redirect_pipe.html-e43504de.js" as="script"><link rel="prefetch" href="/interview/assets/shell.html-ba5be7c9.js" as="script"><link rel="prefetch" href="/interview/assets/thread_process.html-d8bd5518.js" as="script"><link rel="prefetch" href="/interview/assets/vim.html-dc1ba9a3.js" as="script"><link rel="prefetch" href="/interview/assets/class.html-fc452afd.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-a100b2f6.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-b7214ca1.js" as="script"><link rel="prefetch" href="/interview/assets/enum.html-718d60f7.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-ea779406.js" as="script"><link rel="prefetch" href="/interview/assets/generic.html-dc35cfe7.js" as="script"><link rel="prefetch" href="/interview/assets/high type.html-fd1b6b1c.js" as="script"><link rel="prefetch" href="/interview/assets/interface.html-e53aae24.js" as="script"><link rel="prefetch" href="/interview/assets/namespace_module.html-6d688061.js" as="script"><link rel="prefetch" href="/interview/assets/react.html-8d0e5947.js" as="script"><link rel="prefetch" href="/interview/assets/typescript_javascript.html-dfa34a25.js" as="script"><link rel="prefetch" href="/interview/assets/vue.html-46f8fb5a.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-9cd7a9c3.js" as="script"><link rel="prefetch" href="/interview/assets/axios.html-3220e539.js" as="script"><link rel="prefetch" href="/interview/assets/axiosCode.html-fa473e9d.js" as="script"><link rel="prefetch" href="/interview/assets/bind.html-86ed08f5.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-3c974e82.js" as="script"><link rel="prefetch" href="/interview/assets/components_plugin.html-669a9905.js" as="script"><link rel="prefetch" href="/interview/assets/cors.html-6fb5edde.js" as="script"><link rel="prefetch" href="/interview/assets/data.html-c29dcfb9.js" as="script"><link rel="prefetch" href="/interview/assets/data_object_add_attrs.html-5e9dafa8.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-bfe16da3.js" as="script"><link rel="prefetch" href="/interview/assets/directive.html-868c0ba9.js" as="script"><link rel="prefetch" href="/interview/assets/error.html-0982f7bb.js" as="script"><link rel="prefetch" href="/interview/assets/filter.html-afa99151.js" as="script"><link rel="prefetch" href="/interview/assets/first_page_time.html-d6c1df9c.js" as="script"><link rel="prefetch" href="/interview/assets/if_for.html-acd953a7.js" as="script"><link rel="prefetch" href="/interview/assets/keepalive.html-bae4163f.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-a7bb3f6d.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-0cf72d99.js" as="script"><link rel="prefetch" href="/interview/assets/mixin.html-e70fdd4e.js" as="script"><link rel="prefetch" href="/interview/assets/modifier.html-54cb3385.js" as="script"><link rel="prefetch" href="/interview/assets/new_vue.html-185866ba.js" as="script"><link rel="prefetch" href="/interview/assets/nexttick.html-e2449afa.js" as="script"><link rel="prefetch" href="/interview/assets/observable.html-ca8e2390.js" as="script"><link rel="prefetch" href="/interview/assets/permission.html-021c8c91.js" as="script"><link rel="prefetch" href="/interview/assets/show_if.html-3fc668cf.js" as="script"><link rel="prefetch" href="/interview/assets/slot.html-eee6582e.js" as="script"><link rel="prefetch" href="/interview/assets/spa.html-b1e38318.js" as="script"><link rel="prefetch" href="/interview/assets/ssr.html-1ec392e4.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-9d0641cb.js" as="script"><link rel="prefetch" href="/interview/assets/vnode.html-08222532.js" as="script"><link rel="prefetch" href="/interview/assets/vue3_vue2.html-e3114302.js" as="script"><link rel="prefetch" href="/interview/assets/composition.html-75949085.js" as="script"><link rel="prefetch" href="/interview/assets/goal.html-f5edb711.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-812b62f1.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-b085eb2f.js" as="script"><link rel="prefetch" href="/interview/assets/treeshaking.html-af21a867.js" as="script"><link rel="prefetch" href="/interview/assets/HMR.html-0fb5bcae.js" as="script"><link rel="prefetch" href="/interview/assets/Loader.html-18c22bdb.js" as="script"><link rel="prefetch" href="/interview/assets/Loader_Plugin.html-e5a4f024.js" as="script"><link rel="prefetch" href="/interview/assets/Plugin.html-b93806bc.js" as="script"><link rel="prefetch" href="/interview/assets/Rollup_Parcel_snowpack_Vite.html-8671b64e.js" as="script"><link rel="prefetch" href="/interview/assets/build_process.html-638d0548.js" as="script"><link rel="prefetch" href="/interview/assets/improve_build.html-e7998822.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-d674a27a.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-535f3d06.js" as="script"><link rel="prefetch" href="/interview/assets/webpack.html-81aacdc8.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-9790f3ba.js" as="script"><link rel="prefetch" href="/interview/assets/ ____.html-807ea59d.js" as="script"><link rel="prefetch" href="/interview/assets/BOM.html-2e660d94.js" as="script"><link rel="prefetch" href="/interview/assets/Dom.html-a2448e9a.js" as="script"><link rel="prefetch" href="/interview/assets/ajax.html-0adb638b.js" as="script"><link rel="prefetch" href="/interview/assets/array_api.html-20d2fe92.js" as="script"><link rel="prefetch" href="/interview/assets/bind_call_apply.html-c2b72c2d.js" as="script"><link rel="prefetch" href="/interview/assets/cache.html-0ba4c007.js" as="script"><link rel="prefetch" href="/interview/assets/closure.html-7c519dfa.js" as="script"><link rel="prefetch" href="/interview/assets/context_stack.html-404d80d0.js" as="script"><link rel="prefetch" href="/interview/assets/continue_to_upload.html-cc27d78d.js" as="script"><link rel="prefetch" href="/interview/assets/copy.html-a8918ada.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-4b5075e6.js" as="script"><link rel="prefetch" href="/interview/assets/debounce_throttle.html-8fe82048.js" as="script"><link rel="prefetch" href="/interview/assets/event_Model.html-e2035747.js" as="script"><link rel="prefetch" href="/interview/assets/event_agent.html-2cb63890.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-bde5ee9f.js" as="script"><link rel="prefetch" href="/interview/assets/function_cache.html-a376e463.js" as="script"><link rel="prefetch" href="/interview/assets/functional_programming.html-9d5756eb.js" as="script"><link rel="prefetch" href="/interview/assets/inherit.html-23ec53d1.js" as="script"><link rel="prefetch" href="/interview/assets/js_data_structure.html-5c17609c.js" as="script"><link rel="prefetch" href="/interview/assets/loss_accuracy.html-1e558478.js" as="script"><link rel="prefetch" href="/interview/assets/memory_leak.html-079f9dc2.js" as="script"><link rel="prefetch" href="/interview/assets/new.html-97601e2d.js" as="script"><link rel="prefetch" href="/interview/assets/prototype.html-79599a17.js" as="script"><link rel="prefetch" href="/interview/assets/pull_up_loading_pull_down_refresh.html-57880a14.js" as="script"><link rel="prefetch" href="/interview/assets/regexp.html-32a12fb2.js" as="script"><link rel="prefetch" href="/interview/assets/scope.html-5100a988.js" as="script"><link rel="prefetch" href="/interview/assets/security.html-0281d4f4.js" as="script"><link rel="prefetch" href="/interview/assets/single_sign.html-86e9cbbf.js" as="script"><link rel="prefetch" href="/interview/assets/string_api.html-69f3436e.js" as="script"><link rel="prefetch" href="/interview/assets/tail_recursion.html-cc858998.js" as="script"><link rel="prefetch" href="/interview/assets/this.html-1e94ebd8.js" as="script"><link rel="prefetch" href="/interview/assets/type_conversion.html-a5bb7c7d.js" as="script"><link rel="prefetch" href="/interview/assets/typeof_instanceof.html-08c35395.js" as="script"><link rel="prefetch" href="/interview/assets/visible.html-1e269921.js" as="script"><link rel="prefetch" href="/interview/assets/Buffer.html-175a3a53.js" as="script"><link rel="prefetch" href="/interview/assets/EventEmitter.html-b9133bcb.js" as="script"><link rel="prefetch" href="/interview/assets/Stream.html-fb527779.js" as="script"><link rel="prefetch" href="/interview/assets/event_loop.html-520eb050.js" as="script"><link rel="prefetch" href="/interview/assets/file_upload.html-30f25046.js" as="script"><link rel="prefetch" href="/interview/assets/fs.html-75ddf1bd.js" as="script"><link rel="prefetch" href="/interview/assets/global.html-e618a735.js" as="script"><link rel="prefetch" href="/interview/assets/jwt.html-f75109a5.js" as="script"><link rel="prefetch" href="/interview/assets/middleware.html-f594f809.js" as="script"><link rel="prefetch" href="/interview/assets/nodejs.html-bfa23dc4.js" as="script"><link rel="prefetch" href="/interview/assets/paging.html-6f0e713a.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-77d1540d.js" as="script"><link rel="prefetch" href="/interview/assets/process.html-0e3fc17c.js" as="script"><link rel="prefetch" href="/interview/assets/require_order.html-26febbb6.js" as="script"><link rel="prefetch" href="/interview/assets/Algorithm.html-9beff801.js" as="script"><link rel="prefetch" href="/interview/assets/BinarySearch.html-06fa1452.js" as="script"><link rel="prefetch" href="/interview/assets/Heap.html-145d2076.js" as="script"><link rel="prefetch" href="/interview/assets/Linked List.html-a5c57cff.js" as="script"><link rel="prefetch" href="/interview/assets/bubbleSort.html-ad0f6ecb.js" as="script"><link rel="prefetch" href="/interview/assets/design1.html-8dfda931.js" as="script"><link rel="prefetch" href="/interview/assets/design2.html-58370106.js" as="script"><link rel="prefetch" href="/interview/assets/graph.html-529287e9.js" as="script"><link rel="prefetch" href="/interview/assets/insertionSort.html-ccc68077.js" as="script"><link rel="prefetch" href="/interview/assets/mergeSort.html-086ab17a.js" as="script"><link rel="prefetch" href="/interview/assets/quickSort.html-ef5024fb.js" as="script"><link rel="prefetch" href="/interview/assets/selectionSort.html-daa5f342.js" as="script"><link rel="prefetch" href="/interview/assets/set.html-9b9753ae.js" as="script"><link rel="prefetch" href="/interview/assets/sort.html-d99c4bb1.js" as="script"><link rel="prefetch" href="/interview/assets/stack_queue.html-0e2896b5.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-54710df9.js" as="script"><link rel="prefetch" href="/interview/assets/time_space.html-ab61b6b1.js" as="script"><link rel="prefetch" href="/interview/assets/tree.html-f3878382.js" as="script"><link rel="prefetch" href="/interview/assets/WebView_jscore.html-241223b5.js" as="script"><link rel="prefetch" href="/interview/assets/applet.html-178d7829.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-e5f2b3a0.js" as="script"><link rel="prefetch" href="/interview/assets/login.html-608b9fd6.js" as="script"><link rel="prefetch" href="/interview/assets/navigate.html-3dcb4378.js" as="script"><link rel="prefetch" href="/interview/assets/optimization.html-f44aad61.js" as="script"><link rel="prefetch" href="/interview/assets/publish.html-ba7eac35.js" as="script"><link rel="prefetch" href="/interview/assets/requestPayment.html-66ac1437.js" as="script"><link rel="prefetch" href="/interview/assets/Binding events.html-b70a2442.js" as="script"><link rel="prefetch" href="/interview/assets/Building components.html-84bc2367.js" as="script"><link rel="prefetch" href="/interview/assets/Fiber.html-2db6ebe0.js" as="script"><link rel="prefetch" href="/interview/assets/High order components.html-0fd7e6b5.js" as="script"><link rel="prefetch" href="/interview/assets/Improve performance.html-7f99b5d1.js" as="script"><link rel="prefetch" href="/interview/assets/JSX to DOM.html-675f7932.js" as="script"><link rel="prefetch" href="/interview/assets/React Hooks.html-04505080.js" as="script"><link rel="prefetch" href="/interview/assets/React Router model.html-54289aa0.js" as="script"><link rel="prefetch" href="/interview/assets/React Router.html-09f23500.js" as="script"><link rel="prefetch" href="/interview/assets/React refs.html-2113b4ab.js" as="script"><link rel="prefetch" href="/interview/assets/React.html-f7334d32.js" as="script"><link rel="prefetch" href="/interview/assets/Real DOM_Virtual DOM.html-1467c2cc.js" as="script"><link rel="prefetch" href="/interview/assets/Redux Middleware.html-3b72a6c7.js" as="script"><link rel="prefetch" href="/interview/assets/SyntheticEvent.html-93d51934.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-7b089239.js" as="script"><link rel="prefetch" href="/interview/assets/capture error.html-0a935c7a.js" as="script"><link rel="prefetch" href="/interview/assets/class_function component.html-7f505d12.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-0135c42b.js" as="script"><link rel="prefetch" href="/interview/assets/controlled_Uncontrolled.html-675ba233.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-505ec54e.js" as="script"><link rel="prefetch" href="/interview/assets/how to use redux.html-7c62c84d.js" as="script"><link rel="prefetch" href="/interview/assets/immutable.html-63bf68ad.js" as="script"><link rel="prefetch" href="/interview/assets/import css.html-4e54d32d.js" as="script"><link rel="prefetch" href="/interview/assets/improve_render.html-345ccc2f.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-ccd842cb.js" as="script"><link rel="prefetch" href="/interview/assets/life cycle.html-52439b7e.js" as="script"><link rel="prefetch" href="/interview/assets/redux.html-266528d2.js" as="script"><link rel="prefetch" href="/interview/assets/render.html-7d05a8aa.js" as="script"><link rel="prefetch" href="/interview/assets/server side rendering.html-b706b736.js" as="script"><link rel="prefetch" href="/interview/assets/setState.html-3db13d34.js" as="script"><link rel="prefetch" href="/interview/assets/state_props.html-28013ee0.js" as="script"><link rel="prefetch" href="/interview/assets/summary.html-e021fa9d.js" as="script"><link rel="prefetch" href="/interview/assets/super()_super(props).html-ac053daa.js" as="script"><link rel="prefetch" href="/interview/assets/BFC.html-6dc7f157.js" as="script"><link rel="prefetch" href="/interview/assets/animation.html-2c0ac322.js" as="script"><link rel="prefetch" href="/interview/assets/box.html-77384f86.js" as="script"><link rel="prefetch" href="/interview/assets/center.html-1c567503.js" as="script"><link rel="prefetch" href="/interview/assets/column_layout.html-fb75ae60.js" as="script"><link rel="prefetch" href="/interview/assets/css3_features.html-1e4cdbad.js" as="script"><link rel="prefetch" href="/interview/assets/css_performance.html-f61ea5c3.js" as="script"><link rel="prefetch" href="/interview/assets/dp_px_dpr_ppi.html-a4a4ed78.js" as="script"><link rel="prefetch" href="/interview/assets/em_px_rem_vh_vw.html-e99f7753.js" as="script"><link rel="prefetch" href="/interview/assets/flexbox.html-39395243.js" as="script"><link rel="prefetch" href="/interview/assets/grid.html-bc1a16cb.js" as="script"><link rel="prefetch" href="/interview/assets/hide_attributes.html-4a19c915.js" as="script"><link rel="prefetch" href="/interview/assets/layout_painting.html-f7c984cf.js" as="script"><link rel="prefetch" href="/interview/assets/less_12px.html-4d1c94c0.js" as="script"><link rel="prefetch" href="/interview/assets/responsive_layout.html-ce02c242.js" as="script"><link rel="prefetch" href="/interview/assets/sass_less_stylus.html-e71d379b.js" as="script"><link rel="prefetch" href="/interview/assets/selector.html-5431f5db.js" as="script"><link rel="prefetch" href="/interview/assets/single_multi_line.html-6e09527d.js" as="script"><link rel="prefetch" href="/interview/assets/triangle.html-35f2af25.js" as="script"><link rel="prefetch" href="/interview/assets/visual_scrolling.html-72f85df8.js" as="script"><link rel="prefetch" href="/interview/assets/Factory  Pattern.html-429cb7e9.js" as="script"><link rel="prefetch" href="/interview/assets/Observer  Pattern.html-33350c93.js" as="script"><link rel="prefetch" href="/interview/assets/Proxy Pattern.html-87614bd4.js" as="script"><link rel="prefetch" href="/interview/assets/Singleton Pattern.html-6a7bc416.js" as="script"><link rel="prefetch" href="/interview/assets/Strategy Pattern.html-f9b9ef0d.js" as="script"><link rel="prefetch" href="/interview/assets/design.html-572cf094.js" as="script"><link rel="prefetch" href="/interview/assets/array.html-561f9bda.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-9e08fd27.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-da7f342c.js" as="script"><link rel="prefetch" href="/interview/assets/generator.html-d998776b.js" as="script"><link rel="prefetch" href="/interview/assets/module.html-f62cf37d.js" as="script"><link rel="prefetch" href="/interview/assets/object.html-84270d5b.js" as="script"><link rel="prefetch" href="/interview/assets/promise.html-2a25a37b.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-83501e6e.js" as="script"><link rel="prefetch" href="/interview/assets/set_map.html-d52f19c1.js" as="script"><link rel="prefetch" href="/interview/assets/var_let_const.html-6a66cfd2.js" as="script"><link rel="prefetch" href="/interview/assets/Git.html-d5827a0d.js" as="script"><link rel="prefetch" href="/interview/assets/HEAD_tree_index.html-dbc899cb.js" as="script"><link rel="prefetch" href="/interview/assets/Version control.html-5ecaa929.js" as="script"><link rel="prefetch" href="/interview/assets/command.html-d3381ad3.js" as="script"><link rel="prefetch" href="/interview/assets/conflict.html-ec7fa0f4.js" as="script"><link rel="prefetch" href="/interview/assets/fork_clone_branch.html-4305f4e8.js" as="script"><link rel="prefetch" href="/interview/assets/git pull _git fetch.html-2dcdf231.js" as="script"><link rel="prefetch" href="/interview/assets/git rebase_ git merge.html-45542967.js" as="script"><link rel="prefetch" href="/interview/assets/git reset_ git revert.html-dad1cd90.js" as="script"><link rel="prefetch" href="/interview/assets/git stash.html-383f6d68.js" as="script"><link rel="prefetch" href="/interview/assets/1.0_1.1_2.0.html-45a17cde.js" as="script"><link rel="prefetch" href="/interview/assets/CDN.html-15b9799e.js" as="script"><link rel="prefetch" href="/interview/assets/DNS.html-eb976500.js" as="script"><link rel="prefetch" href="/interview/assets/GET_POST.html-a64b2769.js" as="script"><link rel="prefetch" href="/interview/assets/HTTPS.html-78a4136b.js" as="script"><link rel="prefetch" href="/interview/assets/HTTP_HTTPS.html-e7631369.js" as="script"><link rel="prefetch" href="/interview/assets/OSI.html-f697bad9.js" as="script"><link rel="prefetch" href="/interview/assets/TCP_IP.html-7bf6e166.js" as="script"><link rel="prefetch" href="/interview/assets/UDP_TCP.html-3ed64251.js" as="script"><link rel="prefetch" href="/interview/assets/WebSocket.html-0f51c1ec.js" as="script"><link rel="prefetch" href="/interview/assets/after_url.html-9101808e.js" as="script"><link rel="prefetch" href="/interview/assets/handshakes_waves.html-af6ea36e.js" as="script"><link rel="prefetch" href="/interview/assets/headers.html-05a35fc0.js" as="script"><link rel="prefetch" href="/interview/assets/status.html-2c63532a.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-113907dc.js" as="script"><link rel="prefetch" href="/interview/assets/css.html-e751c4cb.js" as="script"><link rel="prefetch" href="/interview/assets/html.html-27461b4e.js" as="script"><link rel="prefetch" href="/interview/assets/javascript.html-5a2dd3a5.js" as="script"><link rel="prefetch" href="/interview/assets/life01.html-7d51d7dd.js" as="script"><link rel="prefetch" href="/interview/assets/life02.html-37fedb53.js" as="script"><link rel="prefetch" href="/interview/assets/life03.html-a75e08e6.js" as="script"><link rel="prefetch" href="/interview/assets/file.html-239ae8cb.js" as="script"><link rel="prefetch" href="/interview/assets/linux users.html-84bfb1b2.js" as="script"><link rel="prefetch" href="/interview/assets/linux.html-ffe21961.js" as="script"><link rel="prefetch" href="/interview/assets/redirect_pipe.html-dfe17060.js" as="script"><link rel="prefetch" href="/interview/assets/shell.html-40a366a7.js" as="script"><link rel="prefetch" href="/interview/assets/thread_process.html-e417bd5b.js" as="script"><link rel="prefetch" href="/interview/assets/vim.html-8355a17d.js" as="script"><link rel="prefetch" href="/interview/assets/class.html-a3a90620.js" as="script"><link rel="prefetch" href="/interview/assets/data_type.html-db52d0d2.js" as="script"><link rel="prefetch" href="/interview/assets/decorator.html-3ac2a549.js" as="script"><link rel="prefetch" href="/interview/assets/enum.html-772c01e7.js" as="script"><link rel="prefetch" href="/interview/assets/function.html-36b3b9f2.js" as="script"><link rel="prefetch" href="/interview/assets/generic.html-f3d364f6.js" as="script"><link rel="prefetch" href="/interview/assets/high type.html-3ee48d12.js" as="script"><link rel="prefetch" href="/interview/assets/interface.html-1958ec43.js" as="script"><link rel="prefetch" href="/interview/assets/namespace_module.html-c229dda9.js" as="script"><link rel="prefetch" href="/interview/assets/react.html-675805de.js" as="script"><link rel="prefetch" href="/interview/assets/typescript_javascript.html-e2d34174.js" as="script"><link rel="prefetch" href="/interview/assets/vue.html-3c8e8161.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-d15ff4f3.js" as="script"><link rel="prefetch" href="/interview/assets/axios.html-92e3b2b7.js" as="script"><link rel="prefetch" href="/interview/assets/axiosCode.html-eb67d876.js" as="script"><link rel="prefetch" href="/interview/assets/bind.html-e6f4dba5.js" as="script"><link rel="prefetch" href="/interview/assets/communication.html-e4ff5a12.js" as="script"><link rel="prefetch" href="/interview/assets/components_plugin.html-2c8ef9e3.js" as="script"><link rel="prefetch" href="/interview/assets/cors.html-874e1e87.js" as="script"><link rel="prefetch" href="/interview/assets/data.html-5e23eeb2.js" as="script"><link rel="prefetch" href="/interview/assets/data_object_add_attrs.html-31c5aa19.js" as="script"><link rel="prefetch" href="/interview/assets/diff.html-1d20cd9f.js" as="script"><link rel="prefetch" href="/interview/assets/directive.html-212cdb44.js" as="script"><link rel="prefetch" href="/interview/assets/error.html-55b42c3a.js" as="script"><link rel="prefetch" href="/interview/assets/filter.html-532a3646.js" as="script"><link rel="prefetch" href="/interview/assets/first_page_time.html-34990fff.js" as="script"><link rel="prefetch" href="/interview/assets/if_for.html-370f31ad.js" as="script"><link rel="prefetch" href="/interview/assets/keepalive.html-1370b8fd.js" as="script"><link rel="prefetch" href="/interview/assets/key.html-926098f7.js" as="script"><link rel="prefetch" href="/interview/assets/lifecycle.html-c58e262b.js" as="script"><link rel="prefetch" href="/interview/assets/mixin.html-ba46c941.js" as="script"><link rel="prefetch" href="/interview/assets/modifier.html-c65a0625.js" as="script"><link rel="prefetch" href="/interview/assets/new_vue.html-f6e4ed85.js" as="script"><link rel="prefetch" href="/interview/assets/nexttick.html-d34e4ce8.js" as="script"><link rel="prefetch" href="/interview/assets/observable.html-d572b7ff.js" as="script"><link rel="prefetch" href="/interview/assets/permission.html-c36e5fd4.js" as="script"><link rel="prefetch" href="/interview/assets/show_if.html-00eded9b.js" as="script"><link rel="prefetch" href="/interview/assets/slot.html-c45a07d0.js" as="script"><link rel="prefetch" href="/interview/assets/spa.html-7b4e48ff.js" as="script"><link rel="prefetch" href="/interview/assets/ssr.html-4f56ba27.js" as="script"><link rel="prefetch" href="/interview/assets/structure.html-262ffb3f.js" as="script"><link rel="prefetch" href="/interview/assets/vnode.html-0c9eadc5.js" as="script"><link rel="prefetch" href="/interview/assets/vue3_vue2.html-a363b035.js" as="script"><link rel="prefetch" href="/interview/assets/composition.html-f142d232.js" as="script"><link rel="prefetch" href="/interview/assets/goal.html-4ac334d1.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-038ad27f.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-dad36eed.js" as="script"><link rel="prefetch" href="/interview/assets/treeshaking.html-d77751a2.js" as="script"><link rel="prefetch" href="/interview/assets/HMR.html-19748912.js" as="script"><link rel="prefetch" href="/interview/assets/Loader.html-c3132524.js" as="script"><link rel="prefetch" href="/interview/assets/Loader_Plugin.html-11a73036.js" as="script"><link rel="prefetch" href="/interview/assets/Plugin.html-357d299b.js" as="script"><link rel="prefetch" href="/interview/assets/Rollup_Parcel_snowpack_Vite.html-709425db.js" as="script"><link rel="prefetch" href="/interview/assets/build_process.html-aa983f5c.js" as="script"><link rel="prefetch" href="/interview/assets/improve_build.html-fa8544a9.js" as="script"><link rel="prefetch" href="/interview/assets/performance.html-259f5276.js" as="script"><link rel="prefetch" href="/interview/assets/proxy.html-10049f5c.js" as="script"><link rel="prefetch" href="/interview/assets/webpack.html-db39f517.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-e956bbbc.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/interview/" class=""><!----><span class="site-name">Hello World ！</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">面试官：用Vue3.0 写过组件吗？如果想实现一个 Modal你会怎么设计？ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview/vue3/modal_component.html#一、组件设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="一、组件设计"><!--[--><!--]--> 一、组件设计 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#二、需求分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="二、需求分析"><!--[--><!--]--> 二、需求分析 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#三、实现流程" class="router-link-active router-link-exact-active sidebar-item" aria-label="三、实现流程"><!--[--><!--]--> 三、实现流程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview/vue3/modal_component.html#目录结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="目录结构"><!--[--><!--]--> 目录结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#组件内容" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件内容"><!--[--><!--]--> 组件内容 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#实现-api-形式" class="router-link-active router-link-exact-active sidebar-item" aria-label="实现 API 形式"><!--[--><!--]--> 实现 API 形式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#事件处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件处理"><!--[--><!--]--> 事件处理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#其他完善" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他完善"><!--[--><!--]--> 其他完善 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/interview/vue3/modal_component.html#参考文献" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考文献"><!--[--><!--]--> 参考文献 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="面试官-用vue3-0-写过组件吗-如果想实现一个-modal你会怎么设计" tabindex="-1"><a class="header-anchor" href="#面试官-用vue3-0-写过组件吗-如果想实现一个-modal你会怎么设计" aria-hidden="true">#</a> 面试官：用Vue3.0 写过组件吗？如果想实现一个 Modal你会怎么设计？</h1><p><img src="https://static.vue-js.com/e294c660-6370-11eb-ab90-d9ae814b240d.png" alt=""></p><h2 id="一、组件设计" tabindex="-1"><a class="header-anchor" href="#一、组件设计" aria-hidden="true">#</a> 一、组件设计</h2><p>组件就是把图形、非图形的各种逻辑均抽象为一个统一的概念（组件）来实现开发的模式</p><p>现在有一个场景，点击新增与编辑都弹框出来进行填写，功能上大同小异，可能只是标题内容或者是显示的主体内容稍微不同</p><p>这时候就没必要写两个组件，只需要根据传入的参数不同，组件显示不同内容即可</p><p>这样，下次开发相同界面程序时就可以写更少的代码，意义着更高的开发效率，更少的 <code>Bug </code>和更少的程序体积</p><h2 id="二、需求分析" tabindex="-1"><a class="header-anchor" href="#二、需求分析" aria-hidden="true">#</a> 二、需求分析</h2><p>实现一个<code>Modal</code>组件，首先确定需要完成的内容：</p><ul><li><p>遮罩层</p></li><li><p>标题内容</p></li><li><p>主体内容</p></li><li><p>确定和取消按钮</p></li></ul><p>主体内容需要灵活，所以可以是字符串，也可以是一段 <code>html</code> 代码</p><p>特点是它们在当前<code>vue</code>实例之外独立存在，通常挂载于<code>body</code>之上</p><p>除了通过引入<code>import</code>的形式，我们还可通过<code>API</code>的形式进行组件的调用</p><p>还可以包括配置全局样式、国际化、与<code>typeScript</code>结合</p><h2 id="三、实现流程" tabindex="-1"><a class="header-anchor" href="#三、实现流程" aria-hidden="true">#</a> 三、实现流程</h2><p>首先看看大致流程：</p><ul><li><p>目录结构</p></li><li><p>组件内容</p></li><li><p>实现 API 形式</p></li><li><p>事件处理</p></li><li><p>其他完善</p></li></ul><h3 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构" aria-hidden="true">#</a> 目录结构</h3><p><code>Modal</code>组件相关的目录结构</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>├── plugins
│   └── modal
│       ├── Content.tsx // 维护 Modal 的内容，用于 h 函数和 jsx 语法
│       ├── Modal.vue // 基础组件
│       ├── config.ts // 全局默认配置
│       ├── index.ts // 入口
│       ├── locale // 国际化相关
│       │   ├── index.ts
│       │   └── lang
│       │       ├── en-US.ts
│       │       ├── zh-CN.ts
│       │       └── zh-TW.ts
│       └── modal.type.ts // ts类型声明相关
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为 Modal 会被 <code>app.use(Modal)</code> 调用作为一个插件，所以都放在<code>plugins</code>目录下</p><h3 id="组件内容" tabindex="-1"><a class="header-anchor" href="#组件内容" aria-hidden="true">#</a> 组件内容</h3><p>首先实现<code>modal.vue</code>的主体显示内容大致如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!isTeleport<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
             <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maskClose &amp;&amp; !loading &amp;&amp; handleCancel()<span class="token punctuation">&quot;</span></span>
             <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal__main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal__title line line--b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ title || t(&quot;r.title&quot;) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
                      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t(&#39;r.close&#39;)<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!loading &amp;&amp; handleCancel()<span class="token punctuation">&quot;</span></span>
                      <span class="token punctuation">&gt;</span></span>✕<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>
                    <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal__content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeof content === &#39;function&#39;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:render</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
                    {{ content }}
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal__btns line line--t<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleConfirm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ❍ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>{{ t(&quot;r.confirm&quot;) }}
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!loading &amp;&amp; handleCancel()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    {{ t(&quot;r.cancel&quot;) }}
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Teleport</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最外层上通过Vue3 <code>Teleport</code> 内置组件进行包裹，其相当于传送门，将里面的内容传送至<code>body</code>之上</p><p>并且从<code>DOM</code>结构上来看，把<code>modal</code>该有的内容（遮罩层、标题、内容、底部按钮）都实现了</p><p>关于主体内容</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal__content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeof content===&#39;function&#39;<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">:render</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
        {{content}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到根据传入<code>content</code>的类型不同，对应显示不同得到内容</p><p>最常见的则是通过调用字符串和默认插槽的形式</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>// 默认插槽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Modal</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>演示 slot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>hello world~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Modal</span><span class="token punctuation">&gt;</span></span>

// 字符串
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Modal</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>演示 content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world~<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过 API 形式调用<code>Modal</code>组件的时候，<code>content</code>可以使用下面两种</p><ul><li>h 函数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$modal<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;演示 h 函数&#39;</span><span class="token punctuation">,</span>
  <span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>
      <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&#39;color:red;&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> Event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;clicked&#39;</span><span class="token punctuation">,</span> $event<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&#39;hello world ~&#39;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>JSX</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$modal<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;演示 jsx 语法&#39;</span><span class="token punctuation">,</span>
  <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> Event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;clicked&#39;</span><span class="token punctuation">,</span> $event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        hello world <span class="token operator">~</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现-api-形式" tabindex="-1"><a class="header-anchor" href="#实现-api-形式" aria-hidden="true">#</a> 实现 API 形式</h3><p>那么组件如何实现<code>API</code>形式调用<code>Modal</code>组件呢？</p><p>在<code>Vue2</code>中，我们可以借助<code>Vue</code>实例以及<code>Vue.extend</code>的方式获得组件实例，然后挂载到<code>body</code>上</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Modal <span class="token keyword">from</span> <span class="token string">&#39;./Modal.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ComponentClass <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Modal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComponentClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">el</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>虽然<code>Vue3</code>移除了<code>Vue.extend</code>方法，但可以通过<code>createVNode</code>实现</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Modal <span class="token keyword">from</span> <span class="token string">&#39;./Modal.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> vnode <span class="token operator">=</span> <span class="token function">createVNode</span><span class="token punctuation">(</span>Modal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">render</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> vnode<span class="token punctuation">.</span>component<span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>Vue2</code>中，可以通过<code>this</code>的形式调用全局 API</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$create <span class="token operator">=</span> create
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而在 Vue3 的 <code>setup</code> 中已经没有 <code>this </code>概念了，需要调用<code>app.config.globalProperties</code>挂载到全局</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$create <span class="token operator">=</span> create
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="事件处理" tabindex="-1"><a class="header-anchor" href="#事件处理" aria-hidden="true">#</a> 事件处理</h3><p>下面再看看看<code>Modal</code>组件内部是如何处理「确定」「取消」事件的，既然是<code>Vue3</code>，当然采用<code>Compositon API</code> 形式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Modal.vue</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获得当前组件实例</span>
  <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    instance<span class="token punctuation">.</span>_hub <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;on-cancel&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;on-confirm&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleConfirm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;on-confirm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    instance<span class="token punctuation">.</span>_hub<span class="token punctuation">[</span><span class="token string">&#39;on-confirm&#39;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;on-cancel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    instance<span class="token punctuation">.</span>_hub<span class="token punctuation">[</span><span class="token string">&#39;on-cancel&#39;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    handleConfirm<span class="token punctuation">,</span>
    handleCancel
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面代码中，可以看得到除了使用传统<code>emit</code>的形式使父组件监听，还可通过<code>_hub</code>属性中添加 <code>on-cancel</code>，<code>on-confirm</code>方法实现在<code>API</code>中进行监听</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$modal <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">/* 监听 确定、取消 事件 */</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面再来目睹下<code>_hub</code>是如何实现</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.ts</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$modal <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">/* 其他选项 */</span>
        onConfirm<span class="token punctuation">,</span>
        onCancel
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* ... */</span>

        <span class="token keyword">const</span> <span class="token punctuation">{</span> props<span class="token punctuation">,</span> _hub <span class="token punctuation">}</span> <span class="token operator">=</span> instance<span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token function-variable function">_closeModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            props<span class="token punctuation">.</span>modelValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            container<span class="token punctuation">.</span>parentNode<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// 往 _hub 新增事件的具体实现</span>
        Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>_hub<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token keyword">async</span> <span class="token string">&#39;on-confirm&#39;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onConfirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">onConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 当方法返回为 Promise</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>fn <span class="token operator">&amp;&amp;</span> fn<span class="token punctuation">.</span>then<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        props<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                        <span class="token keyword">await</span> fn<span class="token punctuation">;</span>
                        props<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                        <span class="token function">_closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 发生错误时，不关闭弹框</span>
                        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        props<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">_closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">_closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&#39;on-cancel&#39;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                onCancel <span class="token operator">&amp;&amp;</span> <span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他完善" tabindex="-1"><a class="header-anchor" href="#其他完善" aria-hidden="true">#</a> 其他完善</h3><p>关于组件实现国际化、与<code>typsScript</code>结合，大家可以根据自身情况在此基础上进行更改</p><h2 id="参考文献" tabindex="-1"><a class="header-anchor" href="#参考文献" aria-hidden="true">#</a> 参考文献</h2><ul><li>https://segmentfault.com/a/1190000038928664</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: wangyaxin04@meituan.com">wangyaxin04</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/interview/assets/app-c0885663.js" defer></script>
  </body>
</html>
